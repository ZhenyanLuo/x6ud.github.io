var pe=Object.defineProperty;var ve=(e,t,r)=>t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var h=(e,t,r)=>(ve(e,typeof t!="symbol"?t+"":t,r),r);import{a as j,_ as _e}from"./index.f80f3610.js";import{d as Dt,o as xt,c as Ht,a as nt,p as we,m as Te,G as Ee,g as Lt,i as be,j as Re,q as Gt,r as pt,k as Wt,w as vt,l as St,s as Ae,u as xe}from"./vendor.c4a19e19.js";const Me={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},ye=nt("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448s448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372s372 166.6 372 372s-166.6 372-372 372z",fill:"currentColor"},null,-1),Fe=nt("path",{d:"M464 336a48 48 0 1 0 96 0a48 48 0 1 0-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z",fill:"currentColor"},null,-1);var Pe=Dt({name:"InfoCircleOutlined",render:function(t,r){return xt(),Ht("svg",Me,[ye,Fe])}});const Ce={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},De=nt("path",{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 0 0-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 0 1-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7c29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6c29.4 29.4 52.5 63.6 68.6 101.7c16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 0 1-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 0 0-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z",fill:"currentColor"},null,-1);var Le=Dt({name:"UndoOutlined",render:function(t,r){return xt(),Ht("svg",Ce,[De])}});const qr="pose-search",Se=.6,$r=100;var z;(function(e){e.trunk="trunk",e.head="head",e.leftUpperArm="leftUpperArm",e.leftLowerArm="leftLowerArm",e.leftHand="leftHand",e.leftThigh="leftThigh",e.leftCalf="leftCalf",e.leftFoot="leftFoot",e.rightUpperArm="rightUpperArm",e.rightLowerArm="rightLowerArm",e.rightHand="rightHand",e.rightThigh="rightThigh",e.rightCalf="rightCalf",e.rightFoot="rightFoot"})(z||(z={}));var Mt=1e-6,K=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function jt(){var e=new K(9);return K!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function Ut(){var e=new K(16);return K!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Ue(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Ie(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function It(e,t){var r=t[0],i=t[1],n=t[2],s=t[3],a=t[4],o=t[5],c=t[6],d=t[7],u=t[8],m=t[9],g=t[10],f=t[11],_=t[12],p=t[13],l=t[14],E=t[15],w=r*o-i*a,v=r*c-n*a,T=r*d-s*a,b=i*c-n*o,R=i*d-s*o,y=n*d-s*c,F=u*p-m*_,L=u*l-g*_,I=u*E-f*_,S=m*l-g*p,V=m*E-f*p,k=g*E-f*l,A=w*k-v*V+T*S+b*I-R*L+y*F;return A?(A=1/A,e[0]=(o*k-c*V+d*S)*A,e[1]=(n*V-i*k-s*S)*A,e[2]=(p*y-l*R+E*b)*A,e[3]=(g*R-m*y-f*b)*A,e[4]=(c*I-a*k-d*L)*A,e[5]=(r*k-n*I+s*L)*A,e[6]=(l*T-_*y-E*v)*A,e[7]=(u*y-g*T+f*v)*A,e[8]=(a*V-o*I+d*F)*A,e[9]=(i*I-r*V-s*F)*A,e[10]=(_*R-p*T+E*w)*A,e[11]=(m*T-u*R-f*w)*A,e[12]=(o*L-a*S-c*F)*A,e[13]=(r*S-i*L+n*F)*A,e[14]=(p*v-_*b-l*w)*A,e[15]=(u*b-m*v+g*w)*A,e):null}function Oe(e,t,r){var i=t[0],n=t[1],s=t[2],a=t[3],o=t[4],c=t[5],d=t[6],u=t[7],m=t[8],g=t[9],f=t[10],_=t[11],p=t[12],l=t[13],E=t[14],w=t[15],v=r[0],T=r[1],b=r[2],R=r[3];return e[0]=v*i+T*o+b*m+R*p,e[1]=v*n+T*c+b*g+R*l,e[2]=v*s+T*d+b*f+R*E,e[3]=v*a+T*u+b*_+R*w,v=r[4],T=r[5],b=r[6],R=r[7],e[4]=v*i+T*o+b*m+R*p,e[5]=v*n+T*c+b*g+R*l,e[6]=v*s+T*d+b*f+R*E,e[7]=v*a+T*u+b*_+R*w,v=r[8],T=r[9],b=r[10],R=r[11],e[8]=v*i+T*o+b*m+R*p,e[9]=v*n+T*c+b*g+R*l,e[10]=v*s+T*d+b*f+R*E,e[11]=v*a+T*u+b*_+R*w,v=r[12],T=r[13],b=r[14],R=r[15],e[12]=v*i+T*o+b*m+R*p,e[13]=v*n+T*c+b*g+R*l,e[14]=v*s+T*d+b*f+R*E,e[15]=v*a+T*u+b*_+R*w,e}function Ve(e,t,r){var i=t[0],n=t[1],s=t[2],a=t[3],o=i+i,c=n+n,d=s+s,u=i*o,m=i*c,g=i*d,f=n*c,_=n*d,p=s*d,l=a*o,E=a*c,w=a*d;return e[0]=1-(f+p),e[1]=m+w,e[2]=g-E,e[3]=0,e[4]=m-w,e[5]=1-(u+p),e[6]=_+l,e[7]=0,e[8]=g+E,e[9]=_-l,e[10]=1-(u+f),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function Kr(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function Ne(e,t){var r=t[0],i=t[1],n=t[2],s=t[4],a=t[5],o=t[6],c=t[8],d=t[9],u=t[10];return e[0]=Math.hypot(r,i,n),e[1]=Math.hypot(s,a,o),e[2]=Math.hypot(c,d,u),e}function Qr(e,t){var r=new K(3);Ne(r,t);var i=1/r[0],n=1/r[1],s=1/r[2],a=t[0]*i,o=t[1]*n,c=t[2]*s,d=t[4]*i,u=t[5]*n,m=t[6]*s,g=t[8]*i,f=t[9]*n,_=t[10]*s,p=a+u+_,l=0;return p>0?(l=Math.sqrt(p+1)*2,e[3]=.25*l,e[0]=(m-f)/l,e[1]=(g-c)/l,e[2]=(o-d)/l):a>u&&a>_?(l=Math.sqrt(1+a-u-_)*2,e[3]=(m-f)/l,e[0]=.25*l,e[1]=(o+d)/l,e[2]=(g+c)/l):u>_?(l=Math.sqrt(1+u-a-_)*2,e[3]=(g-c)/l,e[0]=(o+d)/l,e[1]=.25*l,e[2]=(m+f)/l):(l=Math.sqrt(1+_-a-u)*2,e[3]=(o-d)/l,e[0]=(g+c)/l,e[1]=(m+f)/l,e[2]=.25*l),e}function Jr(e,t,r,i){var n=t[0],s=t[1],a=t[2],o=t[3],c=n+n,d=s+s,u=a+a,m=n*c,g=n*d,f=n*u,_=s*d,p=s*u,l=a*u,E=o*c,w=o*d,v=o*u,T=i[0],b=i[1],R=i[2];return e[0]=(1-(_+l))*T,e[1]=(g+v)*T,e[2]=(f-w)*T,e[3]=0,e[4]=(g-v)*b,e[5]=(1-(m+l))*b,e[6]=(p+E)*b,e[7]=0,e[8]=(f+w)*R,e[9]=(p-E)*R,e[10]=(1-(m+_))*R,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function ze(e,t,r,i,n){var s=1/Math.tan(t/2),a;return e[0]=s/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,n!=null&&n!==1/0?(a=1/(i-n),e[10]=(n+i)*a,e[14]=2*n*i*a):(e[10]=-1,e[14]=-2*i),e}var Be=ze;function ke(e,t,r,i,n,s,a){var o=1/(t-r),c=1/(i-n),d=1/(s-a);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*d,e[11]=0,e[12]=(t+r)*o,e[13]=(n+i)*c,e[14]=(a+s)*d,e[15]=1,e}var Xe=ke;function Zt(e,t,r,i){var n,s,a,o,c,d,u,m,g,f,_=t[0],p=t[1],l=t[2],E=i[0],w=i[1],v=i[2],T=r[0],b=r[1],R=r[2];return Math.abs(_-T)<Mt&&Math.abs(p-b)<Mt&&Math.abs(l-R)<Mt?Ie(e):(u=_-T,m=p-b,g=l-R,f=1/Math.hypot(u,m,g),u*=f,m*=f,g*=f,n=w*g-v*m,s=v*u-E*g,a=E*m-w*u,f=Math.hypot(n,s,a),f?(f=1/f,n*=f,s*=f,a*=f):(n=0,s=0,a=0),o=m*a-g*s,c=g*n-u*a,d=u*s-m*n,f=Math.hypot(o,c,d),f?(f=1/f,o*=f,c*=f,d*=f):(o=0,c=0,d=0),e[0]=n,e[1]=o,e[2]=u,e[3]=0,e[4]=s,e[5]=c,e[6]=m,e[7]=0,e[8]=a,e[9]=d,e[10]=g,e[11]=0,e[12]=-(n*_+s*p+a*l),e[13]=-(o*_+c*p+d*l),e[14]=-(u*_+m*p+g*l),e[15]=1,e)}function ti(e,t,r,i){var n=t[0],s=t[1],a=t[2],o=i[0],c=i[1],d=i[2],u=n-r[0],m=s-r[1],g=a-r[2],f=u*u+m*m+g*g;f>0&&(f=1/Math.sqrt(f),u*=f,m*=f,g*=f);var _=c*g-d*m,p=d*u-o*g,l=o*m-c*u;return f=_*_+p*p+l*l,f>0&&(f=1/Math.sqrt(f),_*=f,p*=f,l*=f),e[0]=_,e[1]=p,e[2]=l,e[3]=0,e[4]=m*l-g*p,e[5]=g*_-u*l,e[6]=u*p-m*_,e[7]=0,e[8]=u,e[9]=m,e[10]=g,e[11]=0,e[12]=n,e[13]=s,e[14]=a,e[15]=1,e}var Ot=Oe;function U(){var e=new K(3);return K!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Ye(e){var t=e[0],r=e[1],i=e[2];return Math.hypot(t,r,i)}function ot(e,t,r){var i=new K(3);return i[0]=e,i[1]=t,i[2]=r,i}function _t(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Q(e,t,r,i){return e[0]=t,e[1]=r,e[2]=i,e}function He(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function Ge(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function We(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function je(e,t){var r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return Math.hypot(r,i,n)}function Ze(e){var t=e[0],r=e[1],i=e[2];return t*t+r*r+i*i}function qe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function tt(e,t){var r=t[0],i=t[1],n=t[2],s=r*r+i*i+n*n;return s>0&&(s=1/Math.sqrt(s)),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e}function dt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function st(e,t,r){var i=t[0],n=t[1],s=t[2],a=r[0],o=r[1],c=r[2];return e[0]=n*c-s*o,e[1]=s*a-i*c,e[2]=i*o-n*a,e}function et(e,t,r){var i=t[0],n=t[1],s=t[2],a=r[3]*i+r[7]*n+r[11]*s+r[15];return a=a||1,e[0]=(r[0]*i+r[4]*n+r[8]*s+r[12])/a,e[1]=(r[1]*i+r[5]*n+r[9]*s+r[13])/a,e[2]=(r[2]*i+r[6]*n+r[10]*s+r[14])/a,e}function C(e,t,r){var i=r[0],n=r[1],s=r[2],a=r[3],o=t[0],c=t[1],d=t[2],u=n*d-s*c,m=s*o-i*d,g=i*c-n*o,f=n*g-s*m,_=s*u-i*g,p=i*m-n*u,l=a*2;return u*=l,m*=l,g*=l,f*=2,_*=2,p*=2,e[0]=o+u+f,e[1]=c+m+_,e[2]=d+g+p,e}function lt(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}var ut=Ge,$e=Ye,qt=Ze;(function(){var e=U();return function(t,r,i,n,s,a){var o,c;for(r||(r=3),i||(i=0),n?c=Math.min(n*r+i,t.length):c=t.length,o=i;o<c;o+=r)e[0]=t[o],e[1]=t[o+1],e[2]=t[o+2],s(e,e,a),t[o]=e[0],t[o+1]=e[1],t[o+2]=e[2];return t}})();function Ke(){var e=new K(4);return K!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Qe(e,t){var r=t[0],i=t[1],n=t[2],s=t[3],a=r*r+i*i+n*n+s*s;return a>0&&(a=1/Math.sqrt(a)),e[0]=r*a,e[1]=i*a,e[2]=n*a,e[3]=s*a,e}function Je(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}(function(){var e=Ke();return function(t,r,i,n,s,a){var o,c;for(r||(r=4),i||(i=0),n?c=Math.min(n*r+i,t.length):c=t.length,o=i;o<c;o+=r)e[0]=t[o],e[1]=t[o+1],e[2]=t[o+2],e[3]=t[o+3],s(e,e,a),t[o]=e[0],t[o+1]=e[1],t[o+2]=e[2],t[o+3]=e[3];return t}})();function wt(){var e=new K(4);return K!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function $t(e,t,r){r=r*.5;var i=Math.sin(r);return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=Math.cos(r),e}function ei(e,t,r){r*=.5;var i=t[0],n=t[1],s=t[2],a=t[3],o=Math.sin(r),c=Math.cos(r);return e[0]=i*c+a*o,e[1]=n*c+s*o,e[2]=s*c-n*o,e[3]=a*c-i*o,e}function ri(e,t,r){r*=.5;var i=t[0],n=t[1],s=t[2],a=t[3],o=Math.sin(r),c=Math.cos(r);return e[0]=i*c-s*o,e[1]=n*c+a*o,e[2]=s*c+i*o,e[3]=a*c-n*o,e}function ii(e,t,r){r*=.5;var i=t[0],n=t[1],s=t[2],a=t[3],o=Math.sin(r),c=Math.cos(r);return e[0]=i*c+n*o,e[1]=n*c-i*o,e[2]=s*c+a*o,e[3]=a*c-s*o,e}function Vt(e,t,r,i){var n=t[0],s=t[1],a=t[2],o=t[3],c=r[0],d=r[1],u=r[2],m=r[3],g,f,_,p,l;return f=n*c+s*d+a*u+o*m,f<0&&(f=-f,c=-c,d=-d,u=-u,m=-m),1-f>Mt?(g=Math.acos(f),_=Math.sin(g),p=Math.sin((1-i)*g)/_,l=Math.sin(i*g)/_):(p=1-i,l=i),e[0]=p*n+l*c,e[1]=p*s+l*d,e[2]=p*a+l*u,e[3]=p*o+l*m,e}function tr(e,t){var r=t[0],i=t[1],n=t[2],s=t[3],a=r*r+i*i+n*n+s*s,o=a?1/a:0;return e[0]=-r*o,e[1]=-i*o,e[2]=-n*o,e[3]=s*o,e}function Kt(e,t){var r=t[0]+t[4]+t[8],i;if(r>0)i=Math.sqrt(r+1),e[3]=.5*i,i=.5/i,e[0]=(t[5]-t[7])*i,e[1]=(t[6]-t[2])*i,e[2]=(t[1]-t[3])*i;else{var n=0;t[4]>t[0]&&(n=1),t[8]>t[n*3+n]&&(n=2);var s=(n+1)%3,a=(n+2)%3;i=Math.sqrt(t[n*3+n]-t[s*3+s]-t[a*3+a]+1),e[n]=.5*i,i=.5/i,e[3]=(t[s*3+a]-t[a*3+s])*i,e[s]=(t[s*3+n]+t[n*3+s])*i,e[a]=(t[a*3+n]+t[n*3+a])*i}return e}function er(e,t,r,i){var n=.5*Math.PI/180;t*=n,r*=n,i*=n;var s=Math.sin(t),a=Math.cos(t),o=Math.sin(r),c=Math.cos(r),d=Math.sin(i),u=Math.cos(i);return e[0]=s*c*u-a*o*d,e[1]=a*o*u+s*c*d,e[2]=a*c*d-s*o*u,e[3]=a*c*u+s*o*d,e}var Nt=Qe,ni=Je;(function(){var e=U(),t=ot(1,0,0),r=ot(0,1,0);return function(i,n,s){var a=dt(n,s);return a<-.999999?(st(e,t,n),$e(e)<1e-6&&st(e,r,n),tt(e,e),$t(i,e,Math.PI),i):a>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(st(e,n,s),i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=1+a,Nt(i,i))}})();(function(){var e=wt(),t=wt();return function(r,i,n,s,a,o){return Vt(e,i,a,o),Vt(t,n,s,o),Vt(r,e,t,2*o*(1-o)),r}})();(function(){var e=jt();return function(t,r,i,n){return e[0]=i[0],e[3]=i[1],e[6]=i[2],e[1]=n[0],e[4]=n[1],e[7]=n[2],e[2]=-r[0],e[5]=-r[1],e[8]=-r[2],Nt(t,Kt(t,e))}})();function rr(e,t){Math.abs(t[0])>Math.abs(t[2])?(e[0]=-t[1],e[1]=t[0],e[2]=0):(e[0]=0,e[1]=-t[2],e[2]=t[1])}const ir=function(){const e=U(),t=ot(0,0,0);return function(r,i,n){return st(e,i,n),tt(e,e),lt(e,t)&&rr(e,i),st(r,i,n),dt(r,n)<0&&qe(r,r),tt(r,r),r}}(),nr=function(){const e=new Float32Array(3);return function(t,r,i){const n=dt(r,i)+1;return n<1e-8?Math.abs(r[0])>Math.abs(r[2])?(t[0]=-r[1],t[1]=r[0],t[2]=0,t[3]=0):(t[0]=0,t[1]=-r[2],t[2]=r[1],t[3]=0):(st(e,r,i),t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=n),Nt(t,t)}}(),sr=function(){const e=new Float32Array(3),t=new Float32Array(3);return function(r,i,n){return tt(e,i),tt(t,n),nr(r,e,t)}}(),Qt=function(){const e=new Float32Array(3),t=new Float32Array(3),r=jt();return function(i,n,s){return st(e,s,n),tt(e,e),st(t,n,e),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=t[0],r[4]=t[1],r[5]=t[2],r[6]=n[0],r[7]=n[1],r[8]=n[2],Kt(i,r)}}(),zt=function(){const e=Ut();return function(t,r,i){return It(e,i),et(t,r,e)}}();function si(e,t){const r=dt(e,t),i=qt(e)*qt(t),n=Math.sqrt(i),s=r/n;return isFinite(s)?Math.acos(s):0}class Z{constructor(){h(this,"vertexArr",[]);h(this,"normalArr",[]);h(this,"indexArr",[]);h(this,"_lowerX",0);h(this,"_lowerY",0);h(this,"_lowerZ",0);h(this,"_upperX",0);h(this,"_upperY",0);h(this,"_upperZ",0);h(this,"_xRange",0);h(this,"_yRange",0);h(this,"_zRange",0)}load(t){const r=this.vertexArr,i=this.normalArr,n=this.indexArr,s=t.split(`
`);let a=1/0,o=1/0,c=1/0,d=-1/0,u=-1/0,m=-1/0;for(let g=0,f=s.length;g<f;++g){const _=s[g].trim();if(!_)continue;const p=_.split(" ");switch(p[0]){case"v":{const l=Number(p[1])||0,E=Number(p[2])||0,w=Number(p[3])||0;r.push([l,E,w]),a=Math.min(a,l),o=Math.min(o,E),c=Math.min(c,w),d=Math.max(d,l),u=Math.max(u,E),m=Math.max(m,w)}break;case"vn":{const l=Number(p[1])||0,E=Number(p[2])||0,w=Number(p[3])||0;i.push([l,E,w])}break;case"f":{const l=[];for(let E=1,w=p.length;E<w;++E){const v=p[E].split("/");l.push([Number(v[0])-1,v[2]?Number(v[2])-1:-1])}n.push(l)}break}}return this._lowerX=a,this._lowerY=o,this._lowerZ=c,this._upperX=d,this._upperY=u,this._upperZ=m,this._xRange=d-a,this._yRange=u-o,this._zRange=m-c,this}translate(t,r,i){const n=this.vertexArr;for(let s=0,a=n.length;s<a;++s){const o=n[s];o[0]+=t,o[1]+=r,o[2]+=i}return this._lowerX+=t,this._upperX+=t,this._lowerY+=r,this._upperY+=r,this._lowerZ+=i,this._upperZ+=i,this}setGeometryVertices(t,r=[1,1,1,1]){const i=[],n=[],s=this.vertexArr,a=this.normalArr,o=this.indexArr;for(let c=0,d=o.length;c<d;++c){const u=o[c];if(u.length!==3&&u.length!==4)throw new Error("Illegal face vertices num");const m=i.length;for(let g=0,f=u.length;g<f;++g){const _=u[g],p=_[0],l=_[1],E=s[p],w=l<0?[0,0,0]:a[l];i.push({a_color:r,a_position:E,a_normal:w})}u.length===3?n.push(m,m+1,m+2):n.push(m,m+1,m+2,m,m+2,m+3)}t.setVertices(i),t.indices=n}get lowerX(){return this._lowerX}get lowerY(){return this._lowerY}get lowerZ(){return this._lowerZ}get upperX(){return this._upperX}get upperY(){return this._upperY}get upperZ(){return this._upperZ}get xRange(){return this._xRange}get yRange(){return this._yRange}get zRange(){return this._zRange}}class ar{constructor(t,r,i){h(this,"name");h(this,"componentSize");h(this,"vertices");h(this,"vbo");this.name=t,this.componentSize=r,this.vertices=i}}var Jt;(function(e){e[e.TRIANGLES=0]="TRIANGLES",e[e.LINES=1]="LINES"})(Jt||(Jt={}));class Tt{constructor(t=0){h(this,"type",0);h(this,"attributes",[]);h(this,"indices",[]);h(this,"ibo");h(this,"vao");this.type=t}setVertices(t){const r=t.length,i={};for(let n in t[0])if(t[0].hasOwnProperty(n)){const s=t[0][n].length;i[n]=new ar(n,s,new Float32Array(s*r))}for(let n=0;n<r;++n){const s=t[n];for(let a in s)if(s.hasOwnProperty(a)){const o=s[a];i[a].vertices.set(o,o.length*n)}}this.attributes=Object.values(i)}}h(Tt,"TYPE_TRIANGLES",0),h(Tt,"TYPE_LINES",1);const or=[1,1,1,1],hr=[1,1,1,.1];class H{constructor(){h(this,"translation",[0,0,0]);h(this,"forward",[0,0,1]);h(this,"up",[0,1,0]);h(this,"controlPoint");h(this,"landmarks",[]);h(this,"parent");h(this,"children",[]);h(this,"active",!0);h(this,"localRotation",wt());h(this,"localMatrix",Ut());h(this,"worldMatrix",Ut());h(this,"originWorldPosition",U());h(this,"originViewPosition",U());h(this,"controlPointWorldPosition",U());h(this,"controlPointViewPosition",U());h(this,"controlPointScreenPosition",U());h(this,"landmarksWorldPositions",[]);h(this,"landmarksViewPosition",[]);h(this,"geometry",new Tt)}render(t){t.uniform("u_mMatrix",this.worldMatrix),t.uniform("u_color",this.active?or:hr),t.drawGeometry(this.geometry)}dispose(t){t.drawGeometry(this.geometry)}}const cr=[0,0,0];var hi,ci,li,fi,di,ui,mi,gi,pi,vi,_i,wi,Ti,Ei;class te{constructor(){h(this,"root",new H);h(this,hi,this.root);h(this,ci,new H);h(this,li,new H);h(this,fi,new H);h(this,di,new H);h(this,ui,new H);h(this,mi,new H);h(this,gi,new H);h(this,pi,new H);h(this,vi,new H);h(this,_i,new H);h(this,wi,new H);h(this,Ti,new H);h(this,Ei,new H)}update(t,r=this.root){const i=[r];for(;;){const n=i.pop();if(!n)break;i.push(...n.children),Qt(n.localRotation,n.forward,n.up),Ve(n.localMatrix,n.localRotation,n.translation),n.parent?Ot(n.worldMatrix,n.parent.worldMatrix,n.localMatrix):Ue(n.worldMatrix,n.localMatrix),et(n.originWorldPosition,cr,n.worldMatrix),et(n.originViewPosition,n.originWorldPosition,t.viewMatrix),n.controlPoint&&(et(n.controlPointWorldPosition,n.controlPoint,n.worldMatrix),et(n.controlPointViewPosition,n.controlPointWorldPosition,t.viewMatrix),et(n.controlPointScreenPosition,n.controlPointWorldPosition,t.pvMatrix)),n.landmarks.length!==n.landmarksWorldPositions.length&&(n.landmarksWorldPositions=n.landmarks.map(s=>[0,0,0]),n.landmarksViewPosition=n.landmarks.map(s=>[0,0,0]));for(let s=0,a=n.landmarks.length;s<a;++s)et(n.landmarksWorldPositions[s],n.landmarks[s],n.worldMatrix),et(n.landmarksViewPosition[s],n.landmarksWorldPositions[s],t.viewMatrix)}}render(t){const r=[this.root];for(;;){const i=r.pop();if(!i)break;r.push(...i.children),i.render(t)}}async init(){const t=new Z().load((await j(()=>import("./head.d3a4814a.js"),[])).default),r=new Z().load((await j(()=>import("./trunk.355541fe.js"),[])).default),i=new Z().load((await j(()=>import("./left-upper-arm.1cf2a978.js"),[])).default),n=new Z().load((await j(()=>import("./left-lower-arm.9ef5569c.js"),[])).default),s=new Z().load((await j(()=>import("./left-hand.b5158bd4.js"),[])).default),a=new Z().load((await j(()=>import("./right-upper-arm.703f905f.js"),[])).default),o=new Z().load((await j(()=>import("./right-lower-arm.d35736d1.js"),[])).default),c=new Z().load((await j(()=>import("./right-hand.bef03dee.js"),[])).default),d=new Z().load((await j(()=>import("./left-thigh.a9c0b033.js"),[])).default),u=new Z().load((await j(()=>import("./left-calf.f48e74f6.js"),[])).default),m=new Z().load((await j(()=>import("./left-foot.1eb9e2b2.js"),[])).default),g=new Z().load((await j(()=>import("./right-thigh.bc4d9415.js"),[])).default),f=new Z().load((await j(()=>import("./right-calf.e3568e37.js"),[])).default),_=new Z().load((await j(()=>import("./right-foot.8e5f2c42.js"),[])).default),p=[0,t.lowerY+t.yRange*.35,t.zRange*-.1],l=[i.lowerX+i.xRange*.3,i.lowerY+i.yRange*(1-.075),i.zRange*-.1],E=[n.lowerX-l[0]+n.xRange*.5,n.lowerY-l[1]+n.yRange*(1-.05),n.lowerZ-l[2]+n.zRange*.3],w=[s.lowerX-E[0]-l[0]+s.xRange*.85,s.lowerY-E[1]-l[1]+s.yRange*(1-.05),s.lowerZ-E[2]-l[2]+s.zRange*.65],v=[d.lowerX+d.xRange*.5,d.lowerY+d.yRange*(1-.05),d.zRange*.05],T=[u.lowerX-v[0]+u.xRange*.5,u.lowerY-v[1]+u.yRange*(1-.05),u.lowerZ-v[2]+u.zRange*.65],b=[m.lowerX-v[0]-T[0]+m.xRange*.3,m.lowerY-v[1]-T[1]+m.yRange*(1-.25),m.lowerZ-v[2]-T[2]+m.zRange*.25],R=[0,r.yRange*.75,0],y=[0,0,t.yRange*.5],F=[i.xRange*.3,i.yRange*-.85,i.zRange*-.3],L=[0,n.yRange*-.9,n.zRange*.4],I=[s.xRange*-.2,s.yRange*-.8,s.zRange*-.1],S=[d.xRange*-.15,d.yRange*-.87,d.zRange*-.25],V=[0,u.yRange*-.85,u.zRange*-.3],k=[m.xRange*.25,m.yRange*-.5,m.zRange*.6];function A(it){return[-it[0],it[1],it[2]]}const M=this.root;r.setGeometryVertices(M.geometry),M.controlPoint=R;const D=this.addChild(this.root,this.head);D.landmarks=[[-t.lowerX,t.yRange*.05,t.zRange*.15],[-t.upperX,t.yRange*.05,t.zRange*.15]],t.translate(-p[0],-p[1],-p[2]),t.setGeometryVertices(D.geometry),D.translation=p,D.controlPoint=y;const P=this.addChild(this.root,this.leftUpperArm);i.translate(-l[0],-l[1],-l[2]),i.setGeometryVertices(P.geometry),P.translation=l,P.controlPoint=F;const x=this.addChild(this.root,this.rightUpperArm);a.translate(+l[0],-l[1],-l[2]),a.setGeometryVertices(x.geometry),x.translation=A(l),x.controlPoint=A(F);const X=this.addChild(P,this.leftLowerArm);n.translate(-E[0]-l[0],-E[1]-l[1],-E[2]-l[2]),n.setGeometryVertices(X.geometry),X.translation=E,X.controlPoint=L;const N=this.addChild(x,this.rightLowerArm);o.translate(+E[0]+l[0],-E[1]-l[1],-E[2]-l[2]),o.setGeometryVertices(N.geometry),N.translation=A(E),N.controlPoint=A(L);const O=this.addChild(X,this.leftHand);s.translate(-w[0]-E[0]-l[0],-w[1]-E[1]-l[1],-w[2]-E[2]-l[2]),s.setGeometryVertices(O.geometry),O.translation=w,O.controlPoint=I;const q=this.addChild(N,this.rightHand);c.translate(+w[0]+E[0]+l[0],-w[1]-E[1]-l[1],-w[2]-E[2]-l[2]),c.setGeometryVertices(q.geometry),q.translation=A(w),q.controlPoint=A(I);const $=this.addChild(M,this.leftThigh);d.translate(-v[0],-v[1],-v[2]),d.setGeometryVertices($.geometry),$.translation=v,$.controlPoint=S;const J=this.addChild(M,this.rightThigh);g.translate(+v[0],-v[1],-v[2]),g.setGeometryVertices(J.geometry),J.translation=A(v),J.controlPoint=A(S);const Y=this.addChild($,this.leftCalf);u.translate(-T[0]-v[0],-T[1]-v[1],-T[2]-v[2]),u.setGeometryVertices(Y.geometry),Y.translation=T,Y.controlPoint=V;const W=this.addChild(J,this.rightCalf);f.translate(+T[0]+v[0],-T[1]-v[1],-T[2]-v[2]),f.setGeometryVertices(W.geometry),W.translation=A(T),W.controlPoint=A(V);const ft=this.addChild(Y,this.leftFoot);m.translate(-b[0]-T[0]-v[0],-b[1]-T[1]-v[1],-b[2]-T[2]-v[2]),m.setGeometryVertices(ft.geometry),ft.translation=b,ft.controlPoint=k;const gt=this.addChild(W,this.rightFoot);_.translate(+b[0]+T[0]+v[0],-b[1]-T[1]-v[1],-b[2]-T[2]-v[2]),_.setGeometryVertices(gt.geometry),gt.translation=A(b),gt.controlPoint=A(k)}addChild(t,r){return r=r||new H,t.children.push(r),r.parent=t,r}}hi=z.trunk,ci=z.head,li=z.leftUpperArm,fi=z.leftLowerArm,di=z.leftHand,ui=z.leftThigh,mi=z.leftCalf,gi=z.leftFoot,pi=z.rightUpperArm,vi=z.rightLowerArm,_i=z.rightHand,wi=z.rightThigh,Ti=z.rightCalf,Ei=z.rightFoot;function Bt(e,t,r,i,n,s,a,o,c,d,u,m,g){const f=n-t,_=s-r,p=a-i,l=Math.sqrt(f**2+_**2+p**2);if(l<=1e-8)return!1;const E=f/l,w=_/l,v=p/l,T=Math.sqrt(u**2+m**2+g**2);if(T<=1e-8)return!1;const b=1/T;u*=b,m*=b,g*=b;const R=E*u+w*m+v*g;if(Math.abs(R)<=1e-8)return!1;const y=-t+o,F=-r+c,L=-i+d,I=(y*u+F*m+L*g)/R,S=t+I*E,V=r+I*w,k=i+I*v;return Q(e,S,V,k),I>=0}function lr(e,t,r,i,n,s,a,o,c,d,u){let m=n-t,g=s-r,f=a-i;const _=t-o,p=r-c,l=i-d,E=m**2+g**2+f**2,w=2*(m*_+g*p+f*l),v=_**2+p**2+l**2-u**2,T=w**2-4*E*v;if(T<0)return!1;const b=Math.sqrt(T),R=(-w+b)/(2*E),y=(-w-b)/(2*E),F=Math.min(R,y);return e[0]=t+m*F,e[1]=r+g*F,e[2]=i+f*F,!0}class ee{constructor(){h(this,"dragStartMousePosition",U());h(this,"dragStartOriginPosition",U());h(this,"dragStartTargetPosition",U());h(this,"mousePosition",U());h(this,"mouseRay0",U());h(this,"mouseRay1",U());h(this,"rayResult0",U());h(this,"rayResult1",U());h(this,"normal",U());h(this,"radius",0);h(this,"offset",U())}}function fr(e,t,r,i,n,s,a){Q(e.dragStartMousePosition,t,r,0),Q(e.dragStartTargetPosition,i,n,s),ut(e.normal,a.target,a.position)}function re(e,t,r,i){return e.dragStartMousePosition[2]=-1,i.screenToView(e.mouseRay0,e.dragStartMousePosition),e.dragStartMousePosition[2]=1,i.screenToView(e.mouseRay1,e.dragStartMousePosition),!Bt(e.rayResult0,e.mouseRay0[0],e.mouseRay0[1],e.mouseRay0[2],e.mouseRay1[0],e.mouseRay1[1],e.mouseRay1[2],e.dragStartTargetPosition[0],e.dragStartTargetPosition[1],e.dragStartTargetPosition[2],e.normal[0],e.normal[1],e.normal[2])||(Q(e.mousePosition,t,r,-1),i.screenToView(e.mouseRay0,e.mousePosition),Q(e.mousePosition,t,r,1),i.screenToView(e.mouseRay1,e.mousePosition),!Bt(e.rayResult1,e.mouseRay0[0],e.mouseRay0[1],e.mouseRay0[2],e.mouseRay1[0],e.mouseRay1[1],e.mouseRay1[2],e.dragStartTargetPosition[0],e.dragStartTargetPosition[1],e.dragStartTargetPosition[2],e.normal[0],e.normal[1],e.normal[2]))?!1:(ut(e.offset,e.rayResult1,e.rayResult0),!0)}function dr(e,t,r,i,n,s,a,o,c,d){Q(e.dragStartMousePosition,t,r,0),Q(e.dragStartOriginPosition,i,n,s),Q(e.dragStartTargetPosition,a,o,c),ut(e.normal,e.dragStartTargetPosition,d.position),e.radius=je(e.dragStartOriginPosition,e.dragStartTargetPosition)}function ur(e,t,r,i){const n=dt(e.normal,e.dragStartOriginPosition);return dt(e.normal,e.dragStartTargetPosition)-n<=0?(Q(e.mousePosition,t,r,-1),i.screenToView(e.mouseRay0,e.mousePosition),Q(e.mousePosition,t,r,1),i.screenToView(e.mouseRay1,e.mousePosition),lr(e.rayResult1,e.mouseRay0[0],e.mouseRay0[1],e.mouseRay0[2],e.mouseRay1[0],e.mouseRay1[1],e.mouseRay1[2],e.dragStartOriginPosition[0],e.dragStartOriginPosition[1],e.dragStartOriginPosition[2],e.radius)?!0:Bt(e.rayResult1,e.mouseRay0[0],e.mouseRay0[1],e.mouseRay0[2],e.mouseRay1[0],e.mouseRay1[1],e.mouseRay1[2],e.dragStartOriginPosition[0],e.dragStartOriginPosition[1],e.dragStartOriginPosition[2],e.normal[0],e.normal[1],e.normal[2])):re(e,t,r,i)}class mr{constructor(t,r,i,n,s,a){h(this,"perspective",!1);h(this,"_pvMatrix",new Float32Array(16));h(this,"_invPvMatrix",new Float32Array(16));h(this,"_projectionMatrix",new Float32Array(16));h(this,"_viewMatrix",new Float32Array(16));h(this,"_position",new Float32Array(3));h(this,"_target",new Float32Array(3));h(this,"_up",new Float32Array([0,1,0]));h(this,"_left");h(this,"_right");h(this,"_bottom");h(this,"_top");h(this,"_near");h(this,"_far");h(this,"matrixNeedsUpdate",!0);this._left=t,this._right=r,this._bottom=i,this._top=n,this._near=s,this._far=a}fitViewport(t,r){this.left=-t/2,this.right=t/2,this.bottom=-r/2,this.top=r/2}screenToView(t,r){et(t,r,this._invPvMatrix)}updateMatrix(){Xe(this._projectionMatrix,this._left,this._right,this._bottom,this._top,this._near,this._far),Zt(this._viewMatrix,this._position,this._target,this._up),Ot(this._pvMatrix,this._projectionMatrix,this._viewMatrix),It(this._invPvMatrix,this._pvMatrix),this.matrixNeedsUpdate=!1}get pvMatrix(){return this.matrixNeedsUpdate&&this.updateMatrix(),this._pvMatrix}get invPvMatrix(){return this.matrixNeedsUpdate&&this.updateMatrix(),this._invPvMatrix}get projectionMatrix(){return this.matrixNeedsUpdate&&this.updateMatrix(),this._projectionMatrix}get viewMatrix(){return this.matrixNeedsUpdate&&this.updateMatrix(),this._viewMatrix}get position(){return this._position}set position(t){lt(t,this._position)||(this.matrixNeedsUpdate=!0,this._position.set(t))}get target(){return this._target}set target(t){lt(t,this._target)||(this.matrixNeedsUpdate=!0,this._target.set(t))}get up(){return this._up}set up(t){lt(t,this._up)||(this.matrixNeedsUpdate=!0,this._up.set(t))}get left(){return this._left}set left(t){t!==this._left&&(this.matrixNeedsUpdate=!0,this._left=t)}get right(){return this._right}set right(t){t!==this._right&&(this.matrixNeedsUpdate=!0,this._right=t)}get bottom(){return this._bottom}set bottom(t){t!==this._bottom&&(this.matrixNeedsUpdate=!0,this._bottom=t)}get top(){return this._top}set top(t){t!==this._top&&(this.matrixNeedsUpdate=!0,this._top=t)}get near(){return this._near}set near(t){t!==this._near&&(this.matrixNeedsUpdate=!0,this._near=t)}get far(){return this._far}set far(t){t!==this._far&&(this.matrixNeedsUpdate=!0,this._far=t)}}class gr{constructor(t,r,i,n){h(this,"perspective",!0);h(this,"_pvMatrix",new Float32Array(16));h(this,"_invPvMatrix",new Float32Array(16));h(this,"_projectionMatrix",new Float32Array(16));h(this,"_viewMatrix",new Float32Array(16));h(this,"_position",new Float32Array(3));h(this,"_target",new Float32Array(3));h(this,"_up",new Float32Array([0,1,0]));h(this,"_fovYRad");h(this,"_aspect");h(this,"_near");h(this,"_far");h(this,"matrixNeedsUpdate",!0);this._fovYRad=t,this._aspect=r,this._near=i,this._far=n}fitViewport(t,r){this.aspect=t/r}screenToView(t,r){et(t,r,this._invPvMatrix)}updateMatrix(){Be(this._projectionMatrix,this._fovYRad,this._aspect,this._near,this._far),Zt(this._viewMatrix,this._position,this._target,this._up),Ot(this._pvMatrix,this._projectionMatrix,this._viewMatrix),It(this._invPvMatrix,this._pvMatrix),this.matrixNeedsUpdate=!1}get pvMatrix(){return this.matrixNeedsUpdate&&this.updateMatrix(),this._pvMatrix}get invPvMatrix(){return this.matrixNeedsUpdate&&this.updateMatrix(),this._invPvMatrix}get projectionMatrix(){return this.matrixNeedsUpdate&&this.updateMatrix(),this._projectionMatrix}get viewMatrix(){return this.matrixNeedsUpdate&&this.updateMatrix(),this._viewMatrix}get position(){return this._position}set position(t){lt(t,this._position)||(this.matrixNeedsUpdate=!0,this._position.set(t))}get target(){return this._target}set target(t){lt(t,this._target)||(this.matrixNeedsUpdate=!0,this._target.set(t))}get up(){return this._up}set up(t){lt(t,this._up)||(this.matrixNeedsUpdate=!0,this._up.set(t))}get fovYRad(){return this._fovYRad}set fovYRad(t){this._fovYRad!==t&&(this.matrixNeedsUpdate=!0,this._fovYRad=t)}get aspect(){return this._aspect}set aspect(t){this._aspect!==t&&(this.matrixNeedsUpdate=!0,this._aspect=t)}get near(){return this._near}set near(t){this._near!==t&&(this.matrixNeedsUpdate=!0,this._near=t)}get far(){return this._far}set far(t){this._far!==t&&(this.matrixNeedsUpdate=!0,this._far=t)}}const pr=.9,vr=-12,_r=1.2,wr=4;class ie{constructor(t=45/180*Math.PI,r=.1,i=1e3){h(this,"viewportWidth",1);h(this,"viewportHeight",1);h(this,"perspectiveCamera");h(this,"orthographicCamera");h(this,"perspective",!0);h(this,"far",2);h(this,"target",ot(0,0,0));h(this,"rotateX",0);h(this,"rotateY",0);h(this,"zoom",1);h(this,"position",ot(0,0,0));h(this,"orthographicZoomRatio",1.6);h(this,"defaultPosition",ot(0,0,1));h(this,"defaultUp",ot(0,1,0));h(this,"up",ot(0,0,0));h(this,"rotationQuat",wt());h(this,"draggingRotation",!1);h(this,"draggingPosition",!1);h(this,"dragStartProjectedMouseX",0);h(this,"dragStartProjectedMouseY",0);h(this,"dragStartRotateX",0);h(this,"dragStartRotateY",0);h(this,"positionDragContext",new ee);this.perspectiveCamera=new gr(t,1,r,i),this.orthographicCamera=new mr(-1,1,-1,1,r,i)}screenToView(t,r){return(this.perspective?this.perspectiveCamera:this.orthographicCamera).screenToView(t,r),t}get pvMatrix(){return(this.perspective?this.perspectiveCamera:this.orthographicCamera).pvMatrix}get viewMatrix(){return(this.perspective?this.perspectiveCamera:this.orthographicCamera).viewMatrix}get camera(){return this.perspective?this.perspectiveCamera:this.orthographicCamera}fitViewport(t,r){this.viewportWidth=t,this.viewportHeight=r,this.update()}update(){const t=this.camera,r=this.zoom<=0?pr**-this.zoom:_r**this.zoom,i=r/25*(this.perspective?1:this.orthographicZoomRatio);t.fitViewport(this.viewportWidth*i,this.viewportHeight*i),We(this.position,this.defaultPosition,this.far*r*2),er(this.rotationQuat,this.rotateX,this.rotateY,0),C(this.position,this.position,this.rotationQuat),He(this.position,this.position,this.target),t.position=this.position,this.rotateX===90||this.rotateX===-90?(C(this.up,this.defaultUp,this.rotationQuat),t.up=this.up):t.up=this.defaultUp,t.target=this.target}onInput(t){const r=(-this.viewportWidth/2+t.mouseX)/this.viewportWidth*2,i=(+this.viewportHeight/2-t.mouseY)/this.viewportHeight*2;if(t.mouseMiddle)if(this.draggingRotation){const n=r-this.dragStartProjectedMouseX,s=i-this.dragStartProjectedMouseY;this.rotateX=Math.max(-90,Math.min(90,this.dragStartRotateX+s*90)),this.rotateY=(this.dragStartRotateY-n*90)%360}else this.draggingRotation=!0,this.dragStartProjectedMouseX=r,this.dragStartProjectedMouseY=i,this.dragStartRotateX=this.rotateX,this.dragStartRotateY=this.rotateY;else this.draggingRotation=!1;t.mouseRight?this.draggingPosition?re(this.positionDragContext,r,i,this.camera)&&ut(this.target,this.positionDragContext.dragStartTargetPosition,this.positionDragContext.offset):this.draggingRotation||(this.draggingPosition=!0,fr(this.positionDragContext,r,i,this.target[0],this.target[1],this.target[2],this.camera)):this.draggingPosition=!1,t.wheelDetY&&(this.zoom=Math.max(vr,Math.min(wr,this.zoom+t.wheelDetY))),this.update()}}var ht;(function(e){e[e.LEFT=0]="LEFT",e[e.MIDDLE=1]="MIDDLE",e[e.RIGHT=2]="RIGHT"})(ht||(ht={}));class Tr{constructor(){h(this,"callback");h(this,"needsUpdate",!1);h(this,"mouseOver",!1);h(this,"mouseX",0);h(this,"mouseY",0);h(this,"mouseLeft",!1);h(this,"mouseLeftDownThisFrame",!1);h(this,"mouseRight",!1);h(this,"mouseRightDownThisFrame",!1);h(this,"mouseMiddle",!1);h(this,"mouseMiddleDownThisFrame",!1);h(this,"wheelDetX",0);h(this,"wheelDetY",0);h(this,"onContextmenu");h(this,"onMouseMove");h(this,"onMouseDown");h(this,"onMouseUp");h(this,"onMouseLeave");h(this,"onMouseOut");h(this,"onWheel");h(this,"onKeyDown");h(this,"onKeyUp");h(this,"onBlur");h(this,"keyMap",new Map);h(this,"timestamp",0);this.onContextmenu=t=>{t.preventDefault()},this.onMouseMove=t=>{this.mouseOver=!0,this.mouseX=t.offsetX,this.mouseY=t.offsetY,this.triggerCallback()},this.onMouseDown=t=>{switch(t.button){case ht.LEFT:this.mouseLeft=!0,this.mouseLeftDownThisFrame=!0;break;case ht.MIDDLE:this.mouseMiddle=!0,this.mouseMiddleDownThisFrame=!0;break;case ht.RIGHT:this.mouseRight=!0,this.mouseRightDownThisFrame=!0;break}this.triggerCallback()},this.onMouseUp=t=>{switch(t.button){case ht.LEFT:this.mouseLeft=!1,this.mouseLeftDownThisFrame=!1;break;case ht.MIDDLE:this.mouseMiddle=!1,this.mouseMiddleDownThisFrame=!1;break;case ht.RIGHT:this.mouseRight=!1,this.mouseLeftDownThisFrame=!1;break}this.triggerCallback()},this.onMouseLeave=()=>{this.mouseOver=!1,this.triggerCallback()},this.onMouseOut=t=>{(t.clientY<=0||t.clientX<=0||t.clientX>=window.innerWidth||t.clientY>=window.innerHeight)&&(this.mouseLeft=!1,this.mouseLeftDownThisFrame=!1,this.mouseRight=!1,this.mouseLeftDownThisFrame=!1),this.triggerCallback()},this.onWheel=t=>{t.preventDefault(),this.wheelDetX+=Math.round(t.deltaX/100),this.wheelDetY+=Math.round(t.deltaY/100),this.triggerCallback()},this.onKeyDown=t=>{const r=t.target;r&&"tagName"in r&&r.tagName==="INPUT"||(t.ctrlKey&&t.preventDefault(),this.keyMap.set(t.key,this.timestamp),this.triggerCallback())},this.onKeyUp=t=>{const r=t.target;r&&"tagName"in r&&r.tagName==="INPUT"||(this.keyMap.delete(t.key),this.triggerCallback())},this.onBlur=()=>{this.keyMap.clear(),this.triggerCallback()}}setup(t){t.addEventListener("contextmenu",this.onContextmenu),t.addEventListener("mousemove",this.onMouseMove),t.addEventListener("mousedown",this.onMouseDown),t.addEventListener("mouseleave",this.onMouseLeave),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mouseout",this.onMouseOut),t.addEventListener("wheel",this.onWheel),window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp),window.addEventListener("blur",this.onBlur)}unload(t){t.removeEventListener("contextmenu",this.onContextmenu),t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("mousedown",this.onMouseDown),t.removeEventListener("mouseleave",this.onMouseLeave),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mouseout",this.onMouseOut),t.removeEventListener("wheel",this.onWheel),window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp),window.removeEventListener("blur",this.onBlur)}update(){this.mouseLeftDownThisFrame=!1,this.mouseRightDownThisFrame=!1,this.mouseMiddleDownThisFrame=!1,this.wheelDetX=0,this.wheelDetY=0,this.timestamp+=1}isKeyPressed(t){return this.keyMap.has(t)}isKeyPressedThisFrame(t){return this.keyMap.get(t)===this.timestamp}triggerCallback(){this.needsUpdate=!0,requestAnimationFrame(()=>{!this.needsUpdate||(this.needsUpdate=!1,this.callback&&this.callback(this),this.update())})}}function Er(e,t,r,i,n){return(e-r)**2+(t-i)**2<=n**2}const ne="a_position",br="a_texCoord",se="a_color",Rr="u_texture";class Ar{constructor(t){h(this,"glFrameBuffer");h(this,"textures",[]);h(this,"depthTexture");h(this,"stencilTexture");this.glFrameBuffer=t}get texture(){return this.textures[0]}}class yt{constructor(t,r,i,n,s,a,o,c){h(this,"glTexture");h(this,"level");h(this,"internalFormat");h(this,"width");h(this,"height");h(this,"border");h(this,"format");h(this,"type");h(this,"flipY",!1);h(this,"image");this.glTexture=t,this.level=r,this.internalFormat=i,this.width=n,this.height=s,this.border=a,this.format=o,this.type=c}}function xr(e,t,r,i,n,s){if(t.substr(-3)==="[0]")switch(i){case e.FLOAT:return function(o){e.uniform1fv(n,o)};case e.INT:return function(o){e.uniform1iv(n,o)};case e.UNSIGNED_INT:return function(o){e.uniform1uiv(n,o)};case e.SAMPLER_2D:const a=new Int32Array(r);for(let o=0;o<r;++o)a[o]=s.count++;return function(o){e.uniform1iv(n,a);for(let c=0;c<r;++c){let d=o[c];d instanceof yt&&(d=d.glTexture),e.activeTexture(e.TEXTURE0+a[c]),e.bindTexture(e.TEXTURE_2D,d||null)}};default:throw new Error(`Unimplemented setter type (uniform: ${t}, type: ${i})`)}switch(i){case e.FLOAT:return function(o){e.uniform1f(n,o)};case e.FLOAT_VEC2:return function(o){e.uniform2fv(n,o)};case e.FLOAT_VEC3:return function(o){e.uniform3fv(n,o)};case e.FLOAT_VEC4:return function(o){e.uniform4fv(n,o)};case e.BOOL:case e.INT:return function(o){e.uniform1i(n,o)};case e.BOOL_VEC2:case e.INT_VEC2:return function(o){e.uniform2iv(n,o)};case e.BOOL_VEC3:case e.INT_VEC3:return function(o){e.uniform3iv(n,o)};case e.BOOL_VEC4:case e.INT_VEC4:return function(o){e.uniform4iv(n,o)};case e.FLOAT_MAT2:return function(o){e.uniformMatrix2fv(n,!1,o)};case e.FLOAT_MAT3:return function(o){e.uniformMatrix3fv(n,!1,o)};case e.FLOAT_MAT4:return function(o){e.uniformMatrix4fv(n,!1,o)};case e.SAMPLER_2D:const a=s.count++;return function(o){o instanceof yt&&(o=o.glTexture),e.uniform1i(n,a),e.activeTexture(e.TEXTURE0+a),e.bindTexture(e.TEXTURE_2D,o||null)};default:throw new Error(`Unimplemented setter type (uniform: ${t}, type: ${i})`)}}class Mr{constructor(t,r,i,n){h(this,"name");h(this,"size");h(this,"type");h(this,"location");this.name=t,this.size=r,this.type=i,this.location=n}}class yr{constructor(t,r,i,n,s){h(this,"name");h(this,"size");h(this,"type");h(this,"location");h(this,"setter");this.name=t,this.size=r,this.type=i,this.location=n,this.setter=s}}class Fr{constructor(t,r,i){h(this,"vertShader");h(this,"fragShader");h(this,"program");h(this,"attributes",{});h(this,"uniforms",{});this.vertShader=t,this.fragShader=r,this.program=i}registerAttribute(t,r,i,n){this.attributes[t]=new Mr(t,r,i,n)}registerUniform(t,r,i,n,s){t.endsWith("[0]")&&(t=t.substr(0,t.length-"[0]".length)),this.uniforms[t]=new yr(t,r,i,n,s)}}var Pr=`#version 300 es\r
\r
precision mediump float;\r
\r
in vec4 v_color;\r
\r
out vec4 outColor;\r
\r
void main() {\r
    outColor = v_color;\r
}\r
`,Cr=`#version 300 es\r
\r
precision mediump float;\r
\r
in vec4 a_position;\r
in vec4 a_color;\r
\r
out vec4 v_color;\r
\r
void main() {\r
    v_color = a_color;\r
    gl_Position = a_position;\r
}\r
`,Dr=`#version 300 es\r
\r
precision mediump float;\r
\r
in vec2 v_texCoord;\r
in vec4 v_color;\r
\r
uniform sampler2D u_texture;\r
\r
out vec4 outColor;\r
\r
void main() {\r
    outColor = texture(u_texture, v_texCoord) * v_color;\r
}\r
`,ae=`#version 300 es\r
\r
precision mediump float;\r
\r
in vec4 a_position;\r
in vec2 a_texCoord;\r
in vec4 a_color;\r
\r
out vec2 v_texCoord;\r
out vec4 v_color;\r
\r
void main() {\r
    v_texCoord = a_texCoord;\r
    v_color = a_color;\r
    gl_Position = a_position;\r
}\r
`,oe;(function(e){e[e.NONE=0]="NONE",e[e.FRONT=1]="FRONT",e[e.BACK=2]="BACK"})(oe||(oe={}));var he;(function(e){e[e.MESH=0]="MESH",e[e.LINES=1]="LINES"})(he||(he={}));var ce;(function(e){e[e.OVERLAP=0]="OVERLAP",e[e.LIGHT=1]="LIGHT",e[e.PIGMENT=2]="PIGMENT"})(ce||(ce={}));const mt=class{constructor(t,r=2e3){h(this,"SIDE_NONE",0);h(this,"SIDE_FRONT",1);h(this,"SIDE_BACK",2);h(this,"BLEND_MODE_OVERLAP",0);h(this,"BLEND_MODE_LIGHT",1);h(this,"BLEND_MODE_PIGMENT",2);h(this,"canvas");h(this,"gl");h(this,"attribLocations");h(this,"BLANK_WHITE");h(this,"IMAGE_2D_SHADER");h(this,"COLOR_2D_SHADER");h(this,"currentShader");h(this,"frameBufferStack",[]);h(this,"currentFrameBuffer");h(this,"batchSize");h(this,"batchPositionVertices");h(this,"batchTexCoordVertices");h(this,"batchColorVertices");h(this,"batchPositionBuffer");h(this,"batchTexCoordBuffer");h(this,"batchColorBuffer");h(this,"batchType",0);h(this,"batchTexture");h(this,"batchIndex",0);h(this,"drawing2D",!1);h(this,"state",{width:0,height:0,color:{r:1,g:1,b:1,a:1},cameraX:0,cameraY:0,zoom:1,blendMode:0});h(this,"stateStack",[]);let i,n=null;if(t?t instanceof HTMLCanvasElement?i=t:(i=t.canvas,n=t):i=document.createElement("canvas"),!n&&(n=i.getContext("webgl2",{alpha:!0,antialias:!1,depth:!0,premultipliedAlpha:!1,preserveDrawingBuffer:!1,stencil:!1}),!n))throw new Error("Failed to create WebGL2 rendering context");this.canvas=i,this.gl=n,this.state.width=i.width,this.state.height=i.height,n.viewport(0,0,this.state.width,this.state.height),n.enable(n.BLEND),this.BLANK_WHITE=this.createTextureFromRgbaPixels(1,1,new Uint8Array([255,255,255,255])),this.IMAGE_2D_SHADER=this.createShader(ae,Dr),this.COLOR_2D_SHADER=this.createShader(Cr,Pr),this.batchSize=r,this.batchPositionVertices=new Float32Array(r*3*2*2),this.batchPositionBuffer=this.createDynamicDrawBuffer(this.batchPositionVertices),this.batchTexCoordVertices=new Float32Array(r*3*2*2),this.batchTexCoordBuffer=this.createDynamicDrawBuffer(this.batchTexCoordVertices),this.batchColorVertices=new Float32Array(r*3*2*4),this.batchColorBuffer=this.createDynamicDrawBuffer(this.batchColorVertices)}static sharedInstance(){return mt._sharedInstance||(mt._sharedInstance=new mt),mt._sharedInstance}copyTo(t,r=0,i=0,n=this.state.width,s=this.state.height,a=0,o=0,c=this.state.width,d=this.state.height){t.drawImage(this.canvas,a,o,c,d,r,i,n,s)}viewport(t,r){this.state.width=t,this.state.height=r,this.gl.viewport(0,0,this.state.width,this.state.height)}resizeCanvas(t,r){(this.canvas.width!==t||this.canvas.height!==r)&&(this.canvas.width=t,this.canvas.height=r),this.viewport(t,r)}clearColor(t=0,r=0,i=0,n=0){this.gl.clearColor(t,r,i,n)}clear(t,r,i){this.flush2D(),this.switchFrameBuffer();const n=this.gl;let s=0;t&&(s|=n.COLOR_BUFFER_BIT),r&&(s|=n.DEPTH_BUFFER_BIT),i&&(s|=n.STENCIL_BUFFER_BIT),n.clear(s)}depthTest(t){const r=this.gl;t?(r.enable(r.DEPTH_TEST),r.depthFunc(r.LEQUAL)):r.disable(r.DEPTH_TEST)}depthMask(t){this.gl.depthMask(t)}cullFace(t){const r=this.gl;switch(t){case 0:r.disable(r.CULL_FACE);break;case 1:r.enable(r.CULL_FACE),r.cullFace(r.FRONT);break;case 2:r.enable(r.CULL_FACE),r.cullFace(r.BACK);break}}blendMode(t){if(t===this.state.blendMode)return;this.state.blendMode=t,this.flush2D();const r=this.gl;switch(t){case 0:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO);break;case 1:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.SRC_ALPHA,r.ONE);break;case 2:r.blendEquationSeparate(r.FUNC_ADD,r.MAX),r.blendFunc(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA);break}}useShader(t){t!==this.currentShader&&(this.flush2D(),this.currentShader=t,t&&this.gl.useProgram(t.program))}uniform(t,r){const i=this.currentShader;if(!i)return;this.flush2D();const n=i.uniforms[t];n==null||n.setter(r)}save(){if(this.stateStack.length>999)throw new Error("State stack has reach a max size of 999");const t=this.state,r=t.color;this.stateStack.push({width:t.width,height:t.height,color:{r:r.r,g:r.g,b:r.b,a:r.a},cameraX:t.cameraX,cameraY:t.cameraY,zoom:t.zoom,blendMode:t.blendMode})}restore(){const t=this.stateStack.pop();if(!t)throw new Error("State stack is empty");this.state.color.r=t.color.r,this.state.color.g=t.color.g,this.state.color.b=t.color.b,this.state.color.a=t.color.a,this.state.cameraX=t.cameraX,this.state.cameraY=t.cameraY,this.state.zoom=t.zoom,this.viewport(t.width,t.height),this.blendMode(t.blendMode)}createDynamicDrawBuffer(t){const r=this.gl,i=r.createBuffer();if(!i)throw new Error("Failed to create WebGL buffer");return r.bindBuffer(r.ARRAY_BUFFER,i),r.bufferData(r.ARRAY_BUFFER,t,r.DYNAMIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,null),i}createVBO(t){const r=this.gl,i=r.createBuffer();if(!i)throw new Error("Failed to create WebGL buffer");return r.bindBuffer(r.ARRAY_BUFFER,i),r.bufferData(r.ARRAY_BUFFER,t,r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,null),i}createIBO(t){const r=this.gl,i=r.createBuffer();if(!i)throw new Error("Failed to create WebGL buffer");return r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,i),r.bufferData(r.ELEMENT_ARRAY_BUFFER,new Uint16Array(t),r.STATIC_DRAW),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null),i}bindVertexArrayAttribute(t,r,i=4,n=this.gl.FLOAT,s=!1,a=0,o=0){const c=this.gl;c.bindBuffer(c.ARRAY_BUFFER,r),c.enableVertexAttribArray(t),c.vertexAttribPointer(t,i,n,s,a,o),c.bindBuffer(c.ARRAY_BUFFER,null)}createEmptyTexture(t=this.state.width,r=this.state.height,i=!1){if(t<0||r<0)throw new Error("Negative width/height");const n=this.gl,s=n.createTexture();if(!s)throw new Error("Failed to create WebGL texture");n.bindTexture(n.TEXTURE_2D,s),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,t,r,0,n.RGBA,n.UNSIGNED_BYTE,null),n.bindTexture(n.TEXTURE_2D,null);const a=new yt(s,0,n.RGBA,t,r,0,n.RGBA,n.UNSIGNED_BYTE);return a.flipY=i,a}createTexture(t){const r=this.createEmptyTexture(t.width,t.height),i=this.gl;return i.bindTexture(i.TEXTURE_2D,r.glTexture),i.texImage2D(i.TEXTURE_2D,r.level,r.internalFormat,r.format,r.type,t),i.bindTexture(i.TEXTURE_2D,null),r}createTextureFromImageUrl(t){return new Promise((r,i)=>{try{const n=new Image;n.onload=()=>{try{const s=this.createTexture(n);s.image=n,r(s)}catch(s){i(s)}},n.onabort=n.onerror=s=>{i(s)},n.src=t}catch(n){i(n)}})}createDepthTexture(t=this.state.width,r=this.state.height){if(t<0||r<0)throw new Error("Negative width/height");const i=this.gl,n=i.createTexture();if(!n)throw new Error("Failed to create WebGL texture");return i.bindTexture(i.TEXTURE_2D,n),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texImage2D(i.TEXTURE_2D,0,i.DEPTH_COMPONENT32F,t,r,0,i.DEPTH_COMPONENT,i.FLOAT,null),i.bindTexture(i.TEXTURE_2D,null),new yt(n,0,i.DEPTH_COMPONENT32F,t,r,0,i.DEPTH_COMPONENT,i.FLOAT)}createTextureFromRgbaPixels(t,r,i){const n=this.createEmptyTexture(t,r),s=this.gl;return s.bindTexture(s.TEXTURE_2D,n.glTexture),s.texImage2D(s.TEXTURE_2D,n.level,n.internalFormat,t,r,n.border,n.format,n.type,i),s.bindTexture(s.TEXTURE_2D,null),n}setTextureFromPixels(t,r,i,n){const s=this.gl;if(!t.glTexture)throw new Error("Texture has been deleted");s.bindTexture(s.TEXTURE_2D,t.glTexture),s.texImage2D(s.TEXTURE_2D,t.level,t.internalFormat,r,i,t.border,t.format,t.type,n),s.bindTexture(s.TEXTURE_2D,null),t.width=r,t.height=i}deleteTexture(t){t.glTexture&&(this.gl.deleteTexture(t.glTexture),t.glTexture=void 0),t.width=0,t.height=0}resizeTexture(t,r=this.state.width,i=this.state.height,n=!1){if(r<0||i<0)throw new Error("Negative width/height");if(t.width===r&&t.height===i)return;const s=this.gl;if(!t.glTexture)throw new Error("Texture has been deleted");s.bindTexture(s.TEXTURE_2D,t.glTexture),s.texImage2D(s.TEXTURE_2D,t.level,t.internalFormat,r,i,t.border,t.format,t.type,null),s.bindTexture(s.TEXTURE_2D,null),t.width=r,t.height=i}createGlShader(t,r){const i=this.gl,n=i.createShader(r);if(!n)throw new Error("Failed to create WebGL shader");if(i.shaderSource(n,t),i.compileShader(n),!i.getShaderParameter(n,i.COMPILE_STATUS))throw new Error(`Failed to compile WebGL shader:

`+i.getShaderInfoLog(n));return n}createShader(t,r){const i=this.gl,n=this.createGlShader(t,i.VERTEX_SHADER),s=this.createGlShader(r,i.FRAGMENT_SHADER),a=i.createProgram();if(!a)throw new Error("Failed to create WebGL program");i.attachShader(a,n),i.attachShader(a,s);const o=this.attribLocations;if(o)for(let g in o)o.hasOwnProperty(g)&&i.bindAttribLocation(a,o[g],g);if(i.linkProgram(a),!i.getProgramParameter(a,i.LINK_STATUS))throw new Error(`Failed to link WebGL program:

`+i.getProgramInfoLog(a));const c=new Fr(n,s,a),d=i.getProgramParameter(a,i.ACTIVE_ATTRIBUTES);for(let g=0;g<d;++g){const f=i.getActiveAttrib(a,g);if(!f)throw new Error("Failed to get WebGL attribute info");const _=i.getAttribLocation(a,f.name);c.registerAttribute(f.name,f.size,f.type,_)}const u=i.getProgramParameter(a,i.ACTIVE_UNIFORMS),m={count:0};for(let g=0;g<u;++g){const f=i.getActiveUniform(a,g);if(!f)throw new Error("Failed to get WebGL uniform info");const _=i.getUniformLocation(a,f.name);if(_==null)throw new Error("Failed to get uniform location");c.registerUniform(f.name,f.size,f.type,_,xr(i,f.name,f.size,f.type,_,m))}return c}deleteShader(t){const r=this.gl;t.program&&(r.deleteProgram(t.program),t.program=void 0),t.vertShader&&(r.deleteShader(t.vertShader),t.vertShader=void 0),t.fragShader&&(r.deleteShader(t.fragShader),t.fragShader=void 0),t.uniforms={},t.attributes={}}createFrameBuffer(){const r=this.gl.createFramebuffer();if(!r)throw new Error("Failed to create WebGL frame buffer");return new Ar(r)}attachColorTexture(t,r){this.attachColorTextures(t,r?[r]:[])}attachColorTextures(t,r){const i=this.gl;if(!t.glFrameBuffer)throw new Error("Frame buffer has been deleted");i.bindFramebuffer(i.FRAMEBUFFER,t.glFrameBuffer),t.textures.length=r.length,r.forEach((n,s)=>{if(!n.glTexture)throw new Error("Texture has been deleted");i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+s,i.TEXTURE_2D,n.glTexture,n.level),t.textures[s]=n}),i.drawBuffers(r.map((n,s)=>i.COLOR_ATTACHMENT0+s)),i.bindFramebuffer(i.FRAMEBUFFER,null),this.currentFrameBuffer=void 0}attachDepthTexture(t,r){const i=this.gl;if(!t.glFrameBuffer)throw new Error("Frame buffer has been deleted");if(i.bindFramebuffer(i.FRAMEBUFFER,t.glFrameBuffer),r){if(!r.glTexture)throw new Error("Texture has been deleted");i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,r.glTexture,r.level),t.depthTexture=r}else i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,null,0),t.depthTexture=void 0;i.bindFramebuffer(i.FRAMEBUFFER,null),this.currentFrameBuffer=void 0}attachStencilTexture(t,r){const i=this.gl;if(!t.glFrameBuffer)throw new Error("Frame buffer has been deleted");if(i.bindFramebuffer(i.FRAMEBUFFER,t.glFrameBuffer),r){if(!r.glTexture)throw new Error("Texture has been deleted");i.framebufferTexture2D(i.FRAMEBUFFER,i.STENCIL_ATTACHMENT,i.TEXTURE_2D,r.glTexture,r.level),t.stencilTexture=r}else i.framebufferTexture2D(i.FRAMEBUFFER,i.STENCIL_ATTACHMENT,i.TEXTURE_2D,null,0),t.stencilTexture=void 0;i.bindFramebuffer(i.FRAMEBUFFER,null),this.currentFrameBuffer=void 0}deleteFrameBuffer(t,r=!1){t.glFrameBuffer&&(this.gl.deleteFramebuffer(t.glFrameBuffer),t.glFrameBuffer=void 0),r&&t.textures.forEach(i=>this.deleteTexture(i))}resizeFrameBuffer(t,r=this.state.width,i=this.state.height){t.textures.forEach(n=>this.resizeTexture(n,r,i)),t.depthTexture&&this.resizeTexture(t.depthTexture,r,i),t.stencilTexture&&this.resizeTexture(t.stencilTexture,r,i)}startCapture(t){this.flush2D(),this.frameBufferStack.push(t)}endCapture(){this.flush2D(),this.frameBufferStack.pop()}switchFrameBuffer(){const t=this.frameBufferStack,r=t.length?t[t.length-1]:void 0;if(r!==this.currentFrameBuffer){this.currentFrameBuffer=r||void 0;const i=this.gl;i.bindFramebuffer(i.FRAMEBUFFER,(r==null?void 0:r.glFrameBuffer)||null)}}disposeGeometry(t){const r=this.gl;t.vao&&(r.deleteVertexArray(t.vao),t.vao=void 0),t.ibo&&(r.deleteBuffer(t.ibo),t.ibo=void 0),t.attributes.forEach(i=>{i.vbo&&(r.deleteBuffer(i.vbo),i.vbo=void 0)})}drawGeometry(t){if(this.drawing2D)throw new Error("Renderer.end2D must be call before draw geometry");const r=this.gl;if(!t.vao){const i=r.createVertexArray();if(!i)throw new Error("Failed to create Vertex Array Object");t.vao=i,r.bindVertexArray(i);const n=this.currentShader;if(!n)throw new Error("Shader not set");const s=this.attribLocations;t.attributes.forEach(a=>{if(a.vbo||(a.vbo=this.createVBO(a.vertices)),s&&s.hasOwnProperty(a.name))this.bindVertexArrayAttribute(s[a.name],a.vbo,a.componentSize);else{const o=n.attributes[a.name];o&&this.bindVertexArrayAttribute(o.location,a.vbo,a.componentSize)}})}switch(r.bindVertexArray(t.vao),t.ibo||(t.ibo=this.createIBO(t.indices)),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.ibo),this.switchFrameBuffer(),t.type){case Tt.TYPE_TRIANGLES:r.drawElements(r.TRIANGLES,t.indices.length,r.UNSIGNED_SHORT,0);break;case Tt.TYPE_LINES:r.drawElements(r.LINES,t.indices.length,r.UNSIGNED_SHORT,0);break}r.bindVertexArray(null)}begin2D(){if(this.drawing2D)throw new Error("Renderer.end2D must be call before begin");this.drawing2D=!0}end2D(){if(!this.drawing2D)throw new Error("Renderer.begin2D must be call before end");this.flush2D(),this.drawing2D=!1}setCameraPosition(t,r){this.state.cameraX=t,this.state.cameraY=r}centerCamera(){this.setCameraPosition(this.state.width/2,this.state.height/2)}setZoom(t){this.state.zoom=t}setColor(t,r,i,n=1){this.state.color.r=t,this.state.color.g=r,this.state.color.b=i,this.state.color.a=n}flush2D(){if(!!this.drawing2D&&this.batchIndex!==0)switch(this.batchType){case 0:this.flushMesh();break;case 1:this.flushLines();break}}flushMesh(){var c;const t=this.batchTexture,r=this.batchIndex;this.batchIndex=0;const i=this.gl;let n=this.currentShader;if(n||(n=this.IMAGE_2D_SHADER),!n.program)throw new Error("Shader has been deleted");i.useProgram(n.program);const s=n.attributes[ne];if(s){i.bindBuffer(i.ARRAY_BUFFER,this.batchPositionBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,this.batchPositionVertices);const d=s.location;i.enableVertexAttribArray(d),i.vertexAttribPointer(d,2,i.FLOAT,!1,0,0)}const a=n.attributes[br];if(a){i.bindBuffer(i.ARRAY_BUFFER,this.batchTexCoordBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,this.batchTexCoordVertices);const d=a.location;i.enableVertexAttribArray(d),i.vertexAttribPointer(d,2,i.FLOAT,!1,0,0)}const o=n.attributes[se];if(o){i.bindBuffer(i.ARRAY_BUFFER,this.batchColorBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,this.batchColorVertices);const d=o.location;i.enableVertexAttribArray(d),i.vertexAttribPointer(d,4,i.FLOAT,!1,0,0)}(c=n.uniforms[Rr])==null||c.setter(t==null?void 0:t.glTexture),this.switchFrameBuffer(),i.drawArrays(i.TRIANGLES,0,r*6)}flushLines(){const t=this.batchIndex;this.batchIndex=0;const r=this.gl;let i=this.currentShader;if(i||(i=this.COLOR_2D_SHADER),!i.program)throw new Error("Shader has been deleted");r.useProgram(i.program),r.bindBuffer(r.ARRAY_BUFFER,this.batchPositionBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,this.batchPositionVertices);const n=i.attributes[ne].location;r.enableVertexAttribArray(n),r.vertexAttribPointer(n,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,this.batchColorBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,this.batchColorVertices);const s=i.attributes[se].location;r.enableVertexAttribArray(s),r.vertexAttribPointer(s,4,r.FLOAT,!1,0,0),this.switchFrameBuffer(),r.drawArrays(r.LINES,0,t*2)}drawLine(t,r,i,n){if(!this.drawing2D)throw new Error("Renderer.begin2D must be call before draw");(this.batchIndex>=this.batchSize*3||this.batchType!==1)&&this.flush2D(),this.batchType=1;const s=this.state.zoom,a=2/this.state.width*s,o=2/this.state.height*s,c=this.state.cameraX,d=this.state.cameraY,u=this.batchPositionVertices,m=this.batchIndex*2*2;u[m]=(t-c)*a,u[m+1]=(r-d)*o,u[m+2]=(i-c)*a,u[m+3]=(n-d)*o;const g=this.batchIndex*2*4,f=this.batchColorVertices,_=this.state.color;for(let p=0;p<2;++p){const l=p*4;f[g+l]=_.r,f[g+1+l]=_.g,f[g+2+l]=_.b,f[g+3+l]=_.a}this.batchIndex+=1}pushCwQuadVertices(t,r,i,n,s,a,o,c,d,u,m,g,f,_,p,l,E){if(!this.drawing2D)throw new Error("Renderer.begin2D must be call before draw");(this.batchIndex>=this.batchSize||t!==this.batchTexture||this.batchType!==0)&&this.flush2D(),this.batchType=0,this.batchTexture=t;const w=this.batchIndex*3*2*2,v=this.batchPositionVertices,T=this.batchTexCoordVertices;v[w]=r,v[w+1]=i,v[w+2]=n,v[w+3]=s,v[w+4]=c,v[w+5]=d,v[w+6]=n,v[w+7]=s,v[w+8]=a,v[w+9]=o,v[w+10]=c,v[w+11]=d,t.flipY&&([u,m,l,E]=[l,E,u,m],[g,f,_,p]=[_,p,g,f]),T[w]=u,T[w+1]=m,T[w+2]=g,T[w+3]=f,T[w+4]=l,T[w+5]=E,T[w+6]=g,T[w+7]=f,T[w+8]=_,T[w+9]=p,T[w+10]=l,T[w+11]=E;const b=this.batchIndex*3*2*4,R=this.batchColorVertices,y=this.state.color;for(let F=0;F<2*3;++F){const L=F*4;R[b+L]=y.r,R[b+1+L]=y.g,R[b+2+L]=y.b,R[b+3+L]=y.a}this.batchIndex+=1}drawCwQuad(t,r,i,n,s,a,o,c,d,u=0,m=t.height,g=t.width,f=t.height,_=t.width,p=0,l=0,E=0){const w=this.state.zoom,v=2/this.state.width*w,T=2/this.state.height*w,b=1/t.width,R=1/t.height,y=this.state.cameraX,F=this.state.cameraY;this.pushCwQuadVertices(t,(r-y)*v,(i-F)*T,(n-y)*v,(s-F)*T,(a-y)*v,(o-F)*T,(c-y)*v,(d-F)*T,u*b,m*R,g*b,f*R,_*b,p*R,l*b,E*R)}drawRect(t,r=0,i=0,n=t.width,s=t.height,a=!1,o=!1,c=0,d=0,u=t.width,m=t.height){const g=r,f=r+n,_=i+s,p=i;let l=c,E=c+u,w=d,v=d+m;a&&([l,E]=[E,l]),o&&([w,v]=[v,w]),this.drawCwQuad(t,g,p,f,p,f,_,g,_,l,v,E,v,E,w,l,w)}draw(t,r=0,i=0,n=t.width,s=t.height,a=!1,o=!1,c=0,d=0,u=t.width,m=t.height,g=0,f=0,_=0,p=0,l=0,E=1,w=1){const v=r,T=r+n,b=i+s,R=i,y=Math.cos(l),F=Math.sin(l),L=y*E,I=-F*w,S=-y*_*E+g+_+p*F*w,V=F*E,k=y*w,A=-y*p*w+f-_*F*E+p,M=v,D=R,P=T,x=R,X=T,N=b,O=v,q=b;let $=c,J=c+u,Y=d,W=d+m;a&&([$,J]=[J,$]),o&&([Y,W]=[W,Y]),this.drawCwQuad(t,L*M+I*D+S,V*M+k*D+A,L*P+I*x+S,V*P+k*x+A,L*X+I*N+S,V*X+k*N+A,L*O+I*q+S,V*O+k*q+A,$,W,J,W,J,Y,$,Y)}drawLabel(t,r=0,i=0,n=t.width,s=t.height,a=!1,o=!1,c=0,d=0,u=t.width,m=t.height,g=0,f=0,_=0,p=0,l=0,E=1,w=1){this.draw(t.texture(this),r,i,n,s,a,o,c,d,u,m,g,f,_,p,l,E,w)}};let kt=mt;h(kt,"_sharedInstance");function le(e,t,r,i,n=Math.min(8,t/2)){let s=0,a=t;const o=Math.ceil(2*Math.PI*t/(n/e.state.zoom)),c=Math.PI*2/o,d=Math.cos(c),u=Math.sin(c),m=r,g=i;for(let f=0;f<o;++f){const _=s*d-a*u,p=s*u+a*d;e.drawLine(s+m,a+g,_+m,p+g),s=_,a=p}}function ct(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2,(e[2]+t[2])/2]}function B(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]}function G(e){const t=1/Math.sqrt(e[0]**2+e[1]**2+e[2]**2);return[e[0]*t,e[1]*t,e[2]*t]}function rt(e,t){let r=[0,0,0];return st(r,e,t),G(r)}function Ft(e,t){return ir([0,0,0],e,t)}function Lr(e,t){return Qt([0,0,0,1],e,t)}function Sr(e){return tr([0,0,0,1],e)}function at(e,t){return Sr(Lr(e,t))}function Ur(e){const t=e.map(At=>At.point);function r(...At){return At.reduce((me,ge)=>me+e[ge].visibility,0)/At.length}const i=G(B(ct(t[11],t[12]),ct(t[24],t[23]))),n=G(B(ct(t[11],t[23]),ct(t[12],t[24]))),s=rt(n,i),a=at(s,i),o=r(11,12,23,24),c=B(ct(t[3],t[6]),ct(t[9],t[10])),d=rt(B(t[7],t[8]),c);C(c,c,a),C(d,d,a);const u=r(8,6,5,4,1,2,3,7,0,9,10),m=G(B(t[11],t[13])),g=rt(n,m),f=at(g,m);C(m,m,a),C(g,g,a);const _=r(11,13),p=G(B(t[12],t[14])),l=rt(n,p),E=at(l,p);C(p,p,a),C(l,l,a);const w=r(12,14),v=G(B(t[13],t[15])),T=rt(n,v),b=at(T,v);C(v,v,f),C(T,T,f);const R=r(13,15),y=G(B(t[14],t[16])),F=rt(n,y),L=at(F,y);C(y,y,E),C(F,F,E);const I=r(14,16),S=G(B(t[15],ct(t[17],t[19]))),V=Ft(S,B(t[21],t[15]));C(S,S,b),C(V,V,b);const k=r(15,17,19,21),A=G(B(t[16],ct(t[18],t[20]))),M=Ft(A,B(t[22],t[16]));C(A,A,L),C(M,M,L);const D=r(16,18,20,22),P=G(B(t[23],t[25])),x=rt(n,P),X=at(x,P);C(P,P,a),C(x,x,a);const N=r(23,25),O=G(B(t[24],t[26])),q=rt(n,O),$=at(q,O);C(O,O,a),C(q,q,a);const J=r(24,26),Y=G(B(t[25],t[27])),W=rt(n,Y),ft=at(W,Y);C(Y,Y,X),C(W,W,X);const gt=r(25,27),it=G(B(t[26],t[28])),Et=rt(n,it),Yt=at(Et,it);C(it,it,$),C(Et,Et,$);const fe=r(26,28),bt=G(B(t[31],t[29])),Pt=Ft(bt,B(t[27],t[31]));C(bt,bt,ft),C(Pt,Pt,ft);const de=r(27,29,31),Rt=G(B(t[32],t[30])),Ct=Ft(Rt,B(t[28],t[32]));C(Rt,Rt,Yt),C(Ct,Ct,Yt);const ue=r(28,30,32);return{trunk:{up:i,forward:s,visibility:o},head:{up:c,forward:d,visibility:u},leftUpperArm:{up:m,forward:g,visibility:_},leftLowerArm:{up:v,forward:T,visibility:R},leftHand:{up:S,forward:V,visibility:k},leftThigh:{up:P,forward:x,visibility:N},leftCalf:{up:Y,forward:W,visibility:gt},leftFoot:{up:Pt,forward:bt,visibility:de},rightUpperArm:{up:p,forward:l,visibility:w},rightLowerArm:{up:y,forward:F,visibility:I},rightHand:{up:A,forward:M,visibility:D},rightThigh:{up:O,forward:q,visibility:J},rightCalf:{up:it,forward:Et,visibility:fe},rightFoot:{up:Ct,forward:Rt,visibility:ue}}}var Ir=`#version 300 es\r
\r
precision highp float;\r
\r
in vec4 v_color;\r
in vec3 v_normal;\r
\r
uniform vec3 u_directionalLightDirection;\r
uniform vec4 u_color;\r
\r
out vec4 outColor;\r
\r
void main() {\r
    outColor = v_color * u_color;\r
    float light = (dot(v_normal, -normalize(u_directionalLightDirection)) + 1.0) * 0.5;\r
    outColor.rgb *= (0.5 + 0.5 * light);\r
}\r
`,Or=`#version 300 es\r
\r
in vec3 a_position;\r
in vec3 a_normal;\r
in vec4 a_color;\r
\r
uniform mat4 u_pvMatrix;\r
uniform mat4 u_mMatrix;\r
\r
out vec4 v_color;\r
out vec3 v_normal;\r
\r
void main() {\r
    gl_Position = u_pvMatrix * u_mMatrix * vec4(a_position, 1.0);\r
    v_color = a_color;\r
    v_normal = transpose(inverse(mat3(u_mMatrix))) * normalize(a_normal);\r
}\r
`,Vr=`#version 300 es\r
\r
precision mediump float;\r
\r
in vec2 v_texCoord;\r
in vec4 v_color;\r
\r
uniform sampler2D u_texture;\r
uniform sampler2D u_deep;\r
uniform float u_threshold;\r
\r
out vec4 outColor;\r
\r
vec4 getPixel(sampler2D texture, int dx, int dy) {\r
    ivec2 texSize = textureSize(texture, 0);\r
    ivec2 pos = ivec2(v_texCoord.xy * vec2(texSize.xy));\r
    int x = max(0, min(texSize.x - 1, pos.x + dx));\r
    int y = max(0, min(texSize.y - 1, pos.y + dy));\r
    return texelFetch(texture, ivec2(x, y), 0);\r
}\r
\r
void main() {\r
    float deep = texture(u_deep, v_texCoord).x;\r
    if (\r
    deep - getPixel(u_deep, -1, 0).x > u_threshold && getPixel(u_texture, -1, 0).a == 1.0\r
    || deep - getPixel(u_deep, 1, 0).x > u_threshold && getPixel(u_texture, 1, 0).a == 1.0\r
    || deep - getPixel(u_deep, 0, -1).x > u_threshold && getPixel(u_texture, 0, -1).a == 1.0\r
    || deep - getPixel(u_deep, 0, 1).x > u_threshold && getPixel(u_texture, 0, 1).a == 1.0\r
    ) {\r
        outColor = v_color;\r
    }\r
}\r
`;const Xt=8;var Nr=Dt({components:{NSpin:we,NIcon:Te,NPopconfirm:Ee,InfoCircleOutlined:Pe,UndoOutlined:Le},props:{model:te,camera:ie,landmarks:Array,readonly:Boolean,highlights:Array},setup(e){const t=Lt(),r=Lt(),i=Lt(!1);let n=0,s=0,a,o,c,d,u,m;const g=[0,-1,0],f=e.camera||new ie;f.far=5;const _=new Tr;_.callback=k;const p=e.model||new te;let l=null,E=!1,w=!1;const v=new ee,T=U(),b=U(),R=U(),y=wt(),F=U(),L=U();be(async function(){try{i.value=!0,await p.init()}finally{i.value=!1}a=new kt(r.value),o=a.createShader(Or,Ir),c=a.createShader(ae,Vr),d=a.createEmptyTexture(),d.flipY=!0,u=a.createDepthTexture(),u.flipY=!0,m=a.createFrameBuffer(),a.attachColorTexture(m,d),a.attachDepthTexture(m,u),V(),_.setup(r.value),S(e.landmarks)}),Re(function(){a.deleteShader(o),a.deleteShader(c),a.deleteFrameBuffer(m,!0),_.unload(r.value)}),Gt(()=>e.landmarks,S),Gt(()=>e.highlights,function(M){Object.keys(z).forEach(D=>{const P=p[D];(M==null?void 0:M.length)?P.active=!!M.includes(D):P.active=!0}),A()});function I(){Object.keys(z).forEach(M=>{const D=p[M];D.forward=[0,0,1],D.up=[0,1,0]}),f.zoom=1,f.rotateX=0,f.rotateY=0,Q(f.target,0,0,0),f.update(),p.update(f.camera),A()}function S(M){if(M==null?void 0:M.length){const D=Ur(M);Object.keys(z).forEach(P=>{const x=p[P],X=D[P];x.forward=X.forward,x.up=X.up,x.active=X.visibility>Se})}else Object.keys(z).forEach(D=>{const P=p[D];P.forward=[0,0,1],P.up=[0,1,0],P.active=!0});f.zoom=1,f.rotateX=0,f.rotateY=0,Q(f.target,0,0,0),f.update(),p.update(f.camera),A()}function V(){const M=t.value.getBoundingClientRect();n=M.width,s=M.height,a.resizeCanvas(n,s),a.resizeFrameBuffer(m),f.fitViewport(n,s)}function k(M){if(f.onInput(M),p.update(f.camera),!e.readonly){if(M.mouseLeft||(E=!1),w&&!M.isKeyPressed("Shift")&&(w=!1,E=!1),!E){l=null;let x=1/0;if(p.root){const X=[p.root];for(;;){const N=X.pop();if(!N)break;if(X.push(...N.children),!N.controlPoint)continue;const O=(N.controlPointScreenPosition[0]+1)/2*n,q=(N.controlPointScreenPosition[1]+1)/2*s;Er(M.mouseX,s-M.mouseY,O,q,Xt)&&N.controlPointScreenPosition[2]<x&&(l=N,x=N.controlPointScreenPosition[2])}}}const D=(M.mouseX/n-.5)*2,P=(-M.mouseY/s+.5)*2;if((M.mouseLeft&&!E||M.isKeyPressedThisFrame("Shift")&&E)&&l){E=!0;const x=l;dr(v,D,P,x.originWorldPosition[0],x.originWorldPosition[1],x.originWorldPosition[2],x.controlPointWorldPosition[0],x.controlPointWorldPosition[1],x.controlPointWorldPosition[2],f.camera),_t(T,x.originWorldPosition),_t(b,x.controlPointWorldPosition),x.parent&&(zt(b,b,x.parent.worldMatrix),zt(T,T,x.parent.worldMatrix)),ut(b,b,T),tt(b,b),_t(F,x.forward),_t(L,x.up)}else if(M.mouseLeft&&E&&l){if(M.isKeyPressed("Shift")){w=!0;const x=D-v.dragStartMousePosition[0],X=P-v.dragStartMousePosition[1],N=x+X;$t(y,b,N*Math.PI*2);const O=l;C(O.forward,F,y),tt(O.forward,O.forward),C(O.up,L,y),tt(O.up,O.up),p.update(f.camera,O)}else if(ur(v,D,P,f.camera)){const x=l;_t(R,v.rayResult1),x.parent&&zt(R,R,x.parent.worldMatrix),ut(R,R,T),sr(y,b,R),C(x.forward,F,y),tt(x.forward,x.forward),C(x.up,L,y),tt(x.up,x.up),p.update(f.camera,x)}}}A()}function A(){if(a.blendMode(a.BLEND_MODE_PIGMENT),a.depthTest(!0),a.cullFace(a.SIDE_BACK),a.startCapture(m),a.clearColor(0,0,0,0),a.clear(!0,!0,!1),a.useShader(o),a.uniform("u_directionalLightDirection",g),a.uniform("u_pvMatrix",f.pvMatrix),p.render(a),a.endCapture(),a.save(),a.depthTest(!1),a.clearColor(242/255,242/255,242/255,1),a.clear(!0,!1,!1),a.centerCamera(),a.begin2D(),a.setColor(1,1,1,1),a.useShader(),a.draw(d),a.setColor(0,0,0,.5),a.useShader(c),a.uniform("u_threshold",1/1e3/(f.far/2)),a.uniform("u_deep",u),a.draw(d),a.end2D(),a.restore(),!e.readonly){a.depthTest(!1),a.useShader(),a.begin2D();const M=[p.root];for(;;){const D=M.pop();if(!D)break;if(M.push(...D.children),D.controlPoint){D.active?a.setColor(1,0,0,D===l?1:.25):a.setColor(0,0,0,D===l?1:.25);const P=D.controlPointScreenPosition;le(a,Xt,P[0]*n/2,P[1]*s/2),le(a,Xt-2,P[0]*n/2,P[1]*s/2)}}a.end2D()}}return{container:t,canvas:r,loading:i,reset:I}}});const zr={class:"skeleton",ref:"container"},Br={ref:"canvas"},kr={class:"anchor",style:{top:"4px",left:"4px"}},Xr={href:"https://sketchfab.com/3d-models/skeleton-4de7b96a351a4a35b1b6e5415277ff07",target:"_blank",title:"Author of the original model"},Yr={key:0,class:"anchor",style:{top:"4px",right:"4px"}},Hr=xe(" Reset model? ");function Gr(e,t,r,i,n,s){const a=pt("n-spin"),o=pt("info-circle-outlined"),c=pt("n-icon"),d=pt("undo-outlined"),u=pt("n-popconfirm");return xt(),Wt("div",zr,[nt(a,{show:e.loading},{default:vt(()=>[St("canvas",Br,null,512)]),_:1},8,["show"]),St("div",kr,[St("a",Xr,[nt(c,{size:"16",color:"#000",class:"icon-btn"},{default:vt(()=>[nt(o)]),_:1})])]),e.readonly?Ae("",!0):(xt(),Wt("div",Yr,[nt(u,{onPositiveClick:e.reset},{trigger:vt(()=>[nt(c,{size:"22",color:"#000",class:"icon-btn",title:"Reset"},{default:vt(()=>[nt(d)]),_:1})]),default:vt(()=>[Hr]),_:1},8,["onPositiveClick"])]))],512)}var ai=_e(Nr,[["render",Gr]]);export{qr as A,z as B,ie as D,Tt as G,Tr as I,Se as L,$r as M,kt as R,ai as S,wt as a,st as b,U as c,si as d,He as e,We as f,te as g,er as h,tr as i,Jr as j,Kr as k,Qr as l,Ne as m,tt as n,lt as o,ni as p,Qt as q,ei as r,ut as s,C as t,ri as u,ii as v,Zt as w,ti as x,Q as y};
//# sourceMappingURL=SkeletonModelCanvas.9f87ff88.js.map
