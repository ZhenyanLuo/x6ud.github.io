var mr=Object.defineProperty;var Nn=Object.getOwnPropertySymbols;var gr=Object.prototype.hasOwnProperty,yr=Object.prototype.propertyIsEnumerable;var An=(E,_,A)=>_ in E?mr(E,_,{enumerable:!0,configurable:!0,writable:!0,value:A}):E[_]=A,Rn=(E,_)=>{for(var A in _||(_={}))gr.call(_,A)&&An(E,A,_[A]);if(Nn)for(var A of Nn(_))yr.call(_,A)&&An(E,A,_[A]);return E};var ht=(E,_,A)=>(An(E,typeof _!="symbol"?_+"":_,A),A);import{H as vr,I as Ln}from"./vendor.c4a19e19.js";function Ir(E){return new Promise(function(_,A){const k=new Image;k.onload=function(){_(k)},k.onabort=k.onerror=A,k.crossOrigin="anonymous",k.src=E})}var jn={exports:{}},br={},wr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:br}),Qe=vr(wr);(function(E,_){var A=void 0,k=function(I){return A||(A=new Promise(function(j,B){var N=typeof I!="undefined"?I:{},Le=N.onAbort;N.onAbort=function(e){B(new Error(e)),Le&&Le(e)},N.postRun=N.postRun||[],N.postRun.push(function(){j(N)}),E=void 0;var l;l||(l=typeof N!="undefined"?N:{}),l.onRuntimeInitialized=function(){function e(d,b){this.Qa=d,this.db=b,this.Oa=1,this.kb=[]}function n(d,b){if(this.db=b,b=St(d)+1,this.cb=ue(b),this.cb===null)throw Error("Unable to allocate memory for the SQL string");Ot(d,tt,this.cb,b),this.ib=this.cb,this.Za=this.ob=null}function r(d){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),d!=null){var b=this.filename,M=b?vt("//"+b):"/";if(b=ye(!0,!0),M=Vt(M,(b!==void 0?b:438)&4095|32768,0),d){if(typeof d=="string"){for(var F=Array(d.length),Y=0,bt=d.length;Y<bt;++Y)F[Y]=d.charCodeAt(Y);d=F}ie(M,b|146),F=Nt(M,577),cn(F,d,0,d.length,0,void 0),oe(F),ie(M,b)}}this.handleError(c(this.filename,u)),this.db=K(u,"i32"),pr(this.db),this.eb={},this.Wa={}}var u=h(4),a=l.cwrap,c=a("sqlite3_open","number",["string","number"]),v=a("sqlite3_close_v2","number",["number"]),R=a("sqlite3_exec","number",["number","string","number","number","number"]),P=a("sqlite3_changes","number",["number"]),x=a("sqlite3_prepare_v2","number",["number","string","number","number","number"]),U=a("sqlite3_sql","string",["number"]),S=a("sqlite3_normalized_sql","string",["number"]),C=a("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Rt=a("sqlite3_bind_text","number",["number","number","number","number","number"]),On=a("sqlite3_bind_blob","number",["number","number","number","number","number"]),Bn=a("sqlite3_bind_double","number",["number","number","number"]),Wn=a("sqlite3_bind_int","number",["number","number","number"]),Gn=a("sqlite3_bind_parameter_index","number",["number","string"]),zn=a("sqlite3_step","number",["number"]),Yn=a("sqlite3_errmsg","string",["number"]),Xn=a("sqlite3_column_count","number",["number"]),Vn=a("sqlite3_data_count","number",["number"]),$n=a("sqlite3_column_double","number",["number","number"]),Sn=a("sqlite3_column_text","string",["number","number"]),Kn=a("sqlite3_column_blob","number",["number","number"]),Qn=a("sqlite3_column_bytes","number",["number","number"]),Jn=a("sqlite3_column_type","number",["number","number"]),Zn=a("sqlite3_column_name","string",["number","number"]),tr=a("sqlite3_reset","number",["number"]),er=a("sqlite3_clear_bindings","number",["number"]),nr=a("sqlite3_finalize","number",["number"]),rr=a("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),ir=a("sqlite3_value_type","number",["number"]),or=a("sqlite3_value_bytes","number",["number"]),ur=a("sqlite3_value_text","string",["number"]),sr=a("sqlite3_value_blob","number",["number"]),ar=a("sqlite3_value_double","number",["number"]),lr=a("sqlite3_result_double","",["number","number"]),Pn=a("sqlite3_result_null","",["number"]),fr=a("sqlite3_result_text","",["number","string","number","number"]),cr=a("sqlite3_result_blob","",["number","number","number","number"]),hr=a("sqlite3_result_int","",["number","number"]),Fn=a("sqlite3_result_error","",["number","string","number"]),pr=a("RegisterExtensionFunctions","number",["number"]);e.prototype.bind=function(d){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(d)?this.Cb(d):d!=null&&typeof d=="object"?this.Db(d):!0},e.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var d=zn(this.Qa);switch(d){case 100:return!0;case 101:return!1;default:throw this.db.handleError(d)}},e.prototype.yb=function(d){return d==null&&(d=this.Oa,this.Oa+=1),$n(this.Qa,d)},e.prototype.Gb=function(d){if(d==null&&(d=this.Oa,this.Oa+=1),d=Sn(this.Qa,d),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(d)},e.prototype.Hb=function(d){return d==null&&(d=this.Oa,this.Oa+=1),Sn(this.Qa,d)},e.prototype.getBlob=function(d){d==null&&(d=this.Oa,this.Oa+=1);var b=Qn(this.Qa,d);d=Kn(this.Qa,d);for(var M=new Uint8Array(b),F=0;F<b;F+=1)M[F]=z[d+F];return M},e.prototype.get=function(d,b){b=b||{},d!=null&&this.bind(d)&&this.step(),d=[];for(var M=Vn(this.Qa),F=0;F<M;F+=1)switch(Jn(this.Qa,F)){case 1:var Y=b.useBigInt?this.Gb(F):this.yb(F);d.push(Y);break;case 2:d.push(this.yb(F));break;case 3:d.push(this.Hb(F));break;case 4:d.push(this.getBlob(F));break;default:d.push(null)}return d},e.prototype.getColumnNames=function(){for(var d=[],b=Xn(this.Qa),M=0;M<b;M+=1)d.push(Zn(this.Qa,M));return d},e.prototype.getAsObject=function(d,b){d=this.get(d,b),b=this.getColumnNames();for(var M={},F=0;F<b.length;F+=1)M[b[F]]=d[F];return M},e.prototype.getSQL=function(){return U(this.Qa)},e.prototype.getNormalizedSQL=function(){return S(this.Qa)},e.prototype.run=function(d){return d!=null&&this.bind(d),this.step(),this.reset()},e.prototype.tb=function(d,b){b==null&&(b=this.Oa,this.Oa+=1),d=yn(d);var M=le(d);this.kb.push(M),this.db.handleError(Rt(this.Qa,b,M,d.length-1,0))},e.prototype.Bb=function(d,b){b==null&&(b=this.Oa,this.Oa+=1);var M=le(d);this.kb.push(M),this.db.handleError(On(this.Qa,b,M,d.length,0))},e.prototype.sb=function(d,b){b==null&&(b=this.Oa,this.Oa+=1),this.db.handleError((d===(d|0)?Wn:Bn)(this.Qa,b,d))},e.prototype.Eb=function(d){d==null&&(d=this.Oa,this.Oa+=1),On(this.Qa,d,0,0,0)},e.prototype.ub=function(d,b){switch(b==null&&(b=this.Oa,this.Oa+=1),typeof d){case"string":this.tb(d,b);return;case"number":this.sb(d,b);return;case"bigint":this.tb(d.toString(),b);return;case"boolean":this.sb(d+0,b);return;case"object":if(d===null){this.Eb(b);return}if(d.length!=null){this.Bb(d,b);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+d+")."},e.prototype.Db=function(d){var b=this;return Object.keys(d).forEach(function(M){var F=Gn(b.Qa,M);F!==0&&b.ub(d[M],F)}),!0},e.prototype.Cb=function(d){for(var b=0;b<d.length;b+=1)this.ub(d[b],b+1);return!0},e.prototype.reset=function(){return this.freemem(),er(this.Qa)===0&&tr(this.Qa)===0},e.prototype.freemem=function(){for(var d;(d=this.kb.pop())!==void 0;)t(d)},e.prototype.free=function(){this.freemem();var d=nr(this.Qa)===0;return delete this.db.eb[this.Qa],this.Qa=0,d},n.prototype.next=function(){if(this.cb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var d=f(),b=h(4);Ct(u),Ct(b);try{this.db.handleError(C(this.db.db,this.ib,-1,u,b)),this.ib=K(b,"i32");var M=K(u,"i32");return M===0?(this.mb(),{done:!0}):(this.Za=new e(M,this.db),this.db.eb[M]=this.Za,{value:this.Za,done:!1})}catch(F){throw this.ob=X(this.ib),this.mb(),F}finally{p(d)}},n.prototype.mb=function(){t(this.cb),this.cb=null},n.prototype.getRemainingSQL=function(){return this.ob!==null?this.ob:X(this.ib)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(n.prototype[Symbol.iterator]=function(){return this}),r.prototype.run=function(d,b){if(!this.db)throw"Database closed";if(b){d=this.prepare(d,b);try{d.step()}finally{d.free()}}else this.handleError(R(this.db,d,0,0,u));return this},r.prototype.exec=function(d,b,M){if(!this.db)throw"Database closed";var F=f(),Y=null;try{var bt=St(d)+1,ct=h(bt);Ot(d,z,ct,bt);var Re=ct,se=h(4);for(d=[];K(Re,"i8")!==0;){Ct(u),Ct(se),this.handleError(C(this.db,Re,-1,u,se));var rt=K(u,"i32");if(Re=K(se,"i32"),rt!==0){for(bt=null,Y=new e(rt,this),b!=null&&Y.bind(b);Y.step();)bt===null&&(bt={columns:Y.getColumnNames(),values:[]},d.push(bt)),bt.values.push(Y.get(null,M));Y.free()}}return d}catch(wt){throw Y&&Y.free(),wt}finally{p(F)}},r.prototype.each=function(d,b,M,F,Y){typeof b=="function"&&(F=M,M=b,b=void 0),d=this.prepare(d,b);try{for(;d.step();)M(d.getAsObject(null,Y))}finally{d.free()}if(typeof F=="function")return F()},r.prototype.prepare=function(d,b){if(Ct(u),this.handleError(x(this.db,d,-1,u,0)),d=K(u,"i32"),d===0)throw"Nothing to prepare";var M=new e(d,this);return b!=null&&M.bind(b),this.eb[d]=M},r.prototype.iterateStatements=function(d){return new n(d,this)},r.prototype.export=function(){Object.values(this.eb).forEach(function(b){b.free()}),Object.values(this.Wa).forEach($),this.Wa={},this.handleError(v(this.db));var d=hn(this.filename);return this.handleError(c(this.filename,u)),this.db=K(u,"i32"),d},r.prototype.close=function(){this.db!==null&&(Object.values(this.eb).forEach(function(d){d.free()}),Object.values(this.Wa).forEach($),this.Wa={},this.handleError(v(this.db)),re("/"+this.filename),this.db=null)},r.prototype.handleError=function(d){if(d===0)return null;throw d=Yn(this.db),Error(d)},r.prototype.getRowsModified=function(){return P(this.db)},r.prototype.create_function=function(d,b){Object.prototype.hasOwnProperty.call(this.Wa,d)&&($(this.Wa[d]),delete this.Wa[d]);var M=bn(function(F,Y,bt){for(var ct,Re=[],se=0;se<Y;se+=1){var rt=K(bt+4*se,"i32"),wt=ir(rt);if(wt===1||wt===2)rt=ar(rt);else if(wt===3)rt=ur(rt);else if(wt===4){wt=rt,rt=or(wt),wt=sr(wt);for(var Mn=new Uint8Array(rt),vn=0;vn<rt;vn+=1)Mn[vn]=z[wt+vn];rt=Mn}else rt=null;Re.push(rt)}try{ct=b.apply(null,Re)}catch(dr){Fn(F,dr,-1);return}switch(typeof ct){case"boolean":hr(F,ct?1:0);break;case"number":lr(F,ct);break;case"string":fr(F,ct,-1,-1);break;case"object":ct===null?Pn(F):ct.length!=null?(Y=le(ct),cr(F,Y,ct.length,-1),t(Y)):Fn(F,"Wrong API use : tried to return a value of an unknown type ("+ct+").",-1);break;default:Pn(F)}});return this.Wa[d]=M,this.handleError(rr(this.db,d,b.length,1,0,M,0,0,0)),this},l.Database=r};var Lt={},pt;for(pt in l)l.hasOwnProperty(pt)&&(Lt[pt]=l[pt]);var ke="./this.program",xe=typeof window=="object",It=typeof importScripts=="function",_t=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",it="",Kt,Ut,H,kt,qt;_t?(it=It?Qe.dirname(it)+"/":__dirname+"/",Kt=function(e,n){return kt||(kt=Qe),qt||(qt=Qe),e=qt.normalize(e),kt.readFileSync(e,n?null:"utf8")},H=function(e){return e=Kt(e,!0),e.buffer||(e=new Uint8Array(e)),e.buffer||O("Assertion failed: undefined"),e},Ut=function(e,n,r){kt||(kt=Qe),qt||(qt=Qe),e=qt.normalize(e),kt.readFile(e,function(u,a){u?r(u):n(a.buffer)})},1<process.argv.length&&(ke=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),E.exports=l,l.inspect=function(){return"[Emscripten Module object]"}):(xe||It)&&(It?it=self.location.href:typeof document!="undefined"&&document.currentScript&&(it=document.currentScript.src),it=it.indexOf("blob:")!==0?it.substr(0,it.lastIndexOf("/")+1):"",Kt=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},It&&(H=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),Ut=function(e,n,r){var u=new XMLHttpRequest;u.open("GET",e,!0),u.responseType="arraybuffer",u.onload=function(){u.status==200||u.status==0&&u.response?n(u.response):r()},u.onerror=r,u.send(null)});var ae=l.print||console.log.bind(console),V=l.printErr||console.warn.bind(console);for(pt in Lt)Lt.hasOwnProperty(pt)&&(l[pt]=Lt[pt]);Lt=null,l.thisProgram&&(ke=l.thisProgram);var Oe=[],xt;function $(e){xt.delete(dt.get(e)),Oe.push(e)}function bn(e){if(!xt){xt=new WeakMap;for(var n=0;n<dt.length;n++){var r=dt.get(n);r&&xt.set(r,n)}}if(xt.has(e))e=xt.get(e);else{if(Oe.length)n=Oe.pop();else{try{dt.grow(1)}catch(c){throw c instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":c}n=dt.length-1}try{dt.set(n,e)}catch(c){if(!(c instanceof TypeError))throw c;if(typeof WebAssembly.Function=="function"){var u={i:"i32",j:"i64",f:"f32",d:"f64"},a={parameters:[],results:[]};for(r=1;4>r;++r)a.parameters.push(u["viii"[r]]);r=new WebAssembly.Function(a,e)}else{for(u=[1,0,1,96],a={i:127,j:126,f:125,d:124},u.push(3),r=0;3>r;++r)u.push(a["iii"[r]]);u.push(0),u[1]=u.length-2,r=new Uint8Array([0,97,115,109,1,0,0,0].concat(u,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),r=new WebAssembly.Module(r),r=new WebAssembly.Instance(r,{e:{f:e}}).exports.f}dt.set(n,r)}xt.set(e,n),e=n}return e}var Qt;l.wasmBinary&&(Qt=l.wasmBinary),l.noExitRuntime,typeof WebAssembly!="object"&&O("no native wasm support detected");function Ct(e){var n="i32";switch(n.charAt(n.length-1)==="*"&&(n="i32"),n){case"i1":z[e>>0]=0;break;case"i8":z[e>>0]=0;break;case"i16":fe[e>>1]=0;break;case"i32":T[e>>2]=0;break;case"i64":nt=[0,(q=0,1<=+Math.abs(q)?0<q?(Math.min(+Math.floor(q/4294967296),4294967295)|0)>>>0:~~+Math.ceil((q-+(~~q>>>0))/4294967296)>>>0:0)],T[e>>2]=nt[0],T[e+4>>2]=nt[1];break;case"float":Jt[e>>2]=0;break;case"double":Bt[e>>3]=0;break;default:O("invalid type for setValue: "+n)}}function K(e,n){switch(n=n||"i8",n.charAt(n.length-1)==="*"&&(n="i32"),n){case"i1":return z[e>>0];case"i8":return z[e>>0];case"i16":return fe[e>>1];case"i32":return T[e>>2];case"i64":return T[e>>2];case"float":return Jt[e>>2];case"double":return Bt[e>>3];default:O("invalid type for getValue: "+n)}return null}var Se,Dt=!1;function Pe(e){var n=l["_"+e];return n||O("Assertion failed: Cannot call unknown function "+(e+", make sure it is exported")),n}function Fe(e,n,r,u){var a={string:function(x){var U=0;if(x!=null&&x!==0){var S=(x.length<<2)+1;U=h(S),Ot(x,tt,U,S)}return U},array:function(x){var U=h(x.length);return z.set(x,U),U}};e=Pe(e);var c=[],v=0;if(u)for(var R=0;R<u.length;R++){var P=a[r[R]];P?(v===0&&(v=f()),c[R]=P(u[R])):c[R]=u[R]}return r=e.apply(null,c),r=function(x){return v!==0&&p(v),n==="string"?X(x):n==="boolean"?!!x:x}(r)}function le(e){var n=ue(e.length);return e.subarray||e.slice?tt.set(e,n):tt.set(new Uint8Array(e),n),n}var Me=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function Ht(e,n,r){var u=n+r;for(r=n;e[r]&&!(r>=u);)++r;if(16<r-n&&e.subarray&&Me)return Me.decode(e.subarray(n,r));for(u="";n<r;){var a=e[n++];if(a&128){var c=e[n++]&63;if((a&224)==192)u+=String.fromCharCode((a&31)<<6|c);else{var v=e[n++]&63;a=(a&240)==224?(a&15)<<12|c<<6|v:(a&7)<<18|c<<12|v<<6|e[n++]&63,65536>a?u+=String.fromCharCode(a):(a-=65536,u+=String.fromCharCode(55296|a>>10,56320|a&1023))}}else u+=String.fromCharCode(a)}return u}function X(e,n){return e?Ht(tt,e,n):""}function Ot(e,n,r,u){if(!(0<u))return 0;var a=r;u=r+u-1;for(var c=0;c<e.length;++c){var v=e.charCodeAt(c);if(55296<=v&&57343>=v){var R=e.charCodeAt(++c);v=65536+((v&1023)<<10)|R&1023}if(127>=v){if(r>=u)break;n[r++]=v}else{if(2047>=v){if(r+1>=u)break;n[r++]=192|v>>6}else{if(65535>=v){if(r+2>=u)break;n[r++]=224|v>>12}else{if(r+3>=u)break;n[r++]=240|v>>18,n[r++]=128|v>>12&63}n[r++]=128|v>>6&63}n[r++]=128|v&63}}return n[r]=0,r-a}function St(e){for(var n=0,r=0;r<e.length;++r){var u=e.charCodeAt(r);55296<=u&&57343>=u&&(u=65536+((u&1023)<<10)|e.charCodeAt(++r)&1023),127>=u?++n:n=2047>=u?n+2:65535>=u?n+3:n+4}return n}function Ne(e){var n=St(e)+1,r=ue(n);return r&&Ot(e,z,r,n),r}var Pt,z,tt,fe,T,Jt,Bt;function je(){var e=Se.buffer;Pt=e,l.HEAP8=z=new Int8Array(e),l.HEAP16=fe=new Int16Array(e),l.HEAP32=T=new Int32Array(e),l.HEAPU8=tt=new Uint8Array(e),l.HEAPU16=new Uint16Array(e),l.HEAPU32=new Uint32Array(e),l.HEAPF32=Jt=new Float32Array(e),l.HEAPF64=Bt=new Float64Array(e)}var dt,Ie=[],mt=[],yt=[];function wn(){var e=l.preRun.shift();Ie.unshift(e)}var Et=0,Ft=null;l.preloadedImages={},l.preloadedAudios={};function O(e){throw l.onAbort&&l.onAbort(e),V(e),Dt=!0,new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info.")}function Wt(){return et.startsWith("data:application/octet-stream;base64,")}var et;if(et="sql-wasm.wasm",!Wt()){var ce=et;et=l.locateFile?l.locateFile(ce,it):it+ce}function st(){var e=et;try{if(e==et&&Qt)return new Uint8Array(Qt);if(H)return H(e);throw"both async and sync fetching of the wasm failed"}catch(n){O(n)}}function Gt(){if(!Qt&&(xe||It)){if(typeof fetch=="function"&&!et.startsWith("file://"))return fetch(et,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+et+"'";return e.arrayBuffer()}).catch(function(){return st()});if(Ut)return new Promise(function(e,n){Ut(et,function(r){e(new Uint8Array(r))},n)})}return Promise.resolve().then(function(){return st()})}var q,nt;function Mt(e){for(;0<e.length;){var n=e.shift();if(typeof n=="function")n(l);else{var r=n.Qb;typeof r=="number"?n.lb===void 0?dt.get(r)():dt.get(r)(n.lb):r(n.lb===void 0?null:n.lb)}}}function Je(e){return e.replace(/\b_Z[\w\d_]+/g,function(n){return n===n?n:n+" ["+n+"]"})}function he(){function e(v){return(v=v.toTimeString().match(/\(([A-Za-z ]+)\)$/))?v[1]:"GMT"}var n=new Date().getFullYear(),r=new Date(n,0,1),u=new Date(n,6,1);n=r.getTimezoneOffset();var a=u.getTimezoneOffset(),c=Math.max(n,a);T[s()>>2]=60*c,T[o()>>2]=Number(n!=a),r=e(r),u=e(u),r=Ne(r),u=Ne(u),a<n?(T[i()>>2]=r,T[i()+4>>2]=u):(T[i()>>2]=u,T[i()+4>>2]=r)}var Ze;function zt(e,n){for(var r=0,u=e.length-1;0<=u;u--){var a=e[u];a==="."?e.splice(u,1):a===".."?(e.splice(u,1),r++):r&&(e.splice(u,1),r--)}if(n)for(;r;r--)e.unshift("..");return e}function vt(e){var n=e.charAt(0)==="/",r=e.substr(-1)==="/";return(e=zt(e.split("/").filter(function(u){return!!u}),!n).join("/"))||n||(e="."),e&&r&&(e+="/"),(n?"/":"")+e}function pe(e){var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=n[0],n=n[1],!e&&!n?".":(n&&(n=n.substr(0,n.length-1)),e+n)}function Zt(e){if(e==="/")return"/";e=vt(e),e=e.replace(/\/$/,"");var n=e.lastIndexOf("/");return n===-1?e:e.substr(n+1)}function Ue(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(_t)try{var n=require("crypto");return function(){return n.randomBytes(1)[0]}}catch{}return function(){O("randomDevice")}}function Tt(){for(var e="",n=!1,r=arguments.length-1;-1<=r&&!n;r--){if(n=0<=r?arguments[r]:"/",typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,n=n.charAt(0)==="/"}return e=zt(e.split("/").filter(function(u){return!!u}),!n).join("/"),(n?"/":"")+e||"."}var qe=[];function Ce(e,n){qe[e]={input:[],output:[],bb:n},We(e,_n)}var _n={open:function(e){var n=qe[e.node.rdev];if(!n)throw new g(43);e.tty=n,e.seekable=!1},close:function(e){e.tty.bb.flush(e.tty)},flush:function(e){e.tty.bb.flush(e.tty)},read:function(e,n,r,u){if(!e.tty||!e.tty.bb.zb)throw new g(60);for(var a=0,c=0;c<u;c++){try{var v=e.tty.bb.zb(e.tty)}catch{throw new g(29)}if(v===void 0&&a===0)throw new g(6);if(v==null)break;a++,n[r+c]=v}return a&&(e.node.timestamp=Date.now()),a},write:function(e,n,r,u){if(!e.tty||!e.tty.bb.pb)throw new g(60);try{for(var a=0;a<u;a++)e.tty.bb.pb(e.tty,n[r+a])}catch{throw new g(29)}return u&&(e.node.timestamp=Date.now()),a}},tn={zb:function(e){if(!e.input.length){var n=null;if(_t){var r=Buffer.alloc(256),u=0;try{u=kt.readSync(process.stdin.fd,r,0,256,null)}catch(a){if(a.toString().includes("EOF"))u=0;else throw a}0<u?n=r.slice(0,u).toString("utf-8"):n=null}else typeof window!="undefined"&&typeof window.prompt=="function"?(n=window.prompt("Input: "),n!==null&&(n+=`
`)):typeof readline=="function"&&(n=readline(),n!==null&&(n+=`
`));if(!n)return null;e.input=yn(n,!0)}return e.input.shift()},pb:function(e,n){n===null||n===10?(ae(Ht(e.output,0)),e.output=[]):n!=0&&e.output.push(n)},flush:function(e){e.output&&0<e.output.length&&(ae(Ht(e.output,0)),e.output=[])}},en={pb:function(e,n){n===null||n===10?(V(Ht(e.output,0)),e.output=[]):n!=0&&e.output.push(n)},flush:function(e){e.output&&0<e.output.length&&(V(Ht(e.output,0)),e.output=[])}};function De(e){e=65536*Math.ceil(e/65536);var n=y(65536,e);return n?(tt.fill(0,n,n+e),n):0}var L={Ua:null,Va:function(){return L.createNode(null,"/",16895,0)},createNode:function(e,n,r,u){if((r&61440)==24576||(r&61440)==4096)throw new g(63);return L.Ua||(L.Ua={dir:{node:{Ta:L.La.Ta,Sa:L.La.Sa,lookup:L.La.lookup,fb:L.La.fb,rename:L.La.rename,unlink:L.La.unlink,rmdir:L.La.rmdir,readdir:L.La.readdir,symlink:L.La.symlink},stream:{Ya:L.Ma.Ya}},file:{node:{Ta:L.La.Ta,Sa:L.La.Sa},stream:{Ya:L.Ma.Ya,read:L.Ma.read,write:L.Ma.write,rb:L.Ma.rb,gb:L.Ma.gb,hb:L.Ma.hb}},link:{node:{Ta:L.La.Ta,Sa:L.La.Sa,readlink:L.La.readlink},stream:{}},vb:{node:{Ta:L.La.Ta,Sa:L.La.Sa},stream:sn}}),r=de(e,n,r,u),Z(r.mode)?(r.La=L.Ua.dir.node,r.Ma=L.Ua.dir.stream,r.Na={}):(r.mode&61440)==32768?(r.La=L.Ua.file.node,r.Ma=L.Ua.file.stream,r.Ra=0,r.Na=null):(r.mode&61440)==40960?(r.La=L.Ua.link.node,r.Ma=L.Ua.link.stream):(r.mode&61440)==8192&&(r.La=L.Ua.vb.node,r.Ma=L.Ua.vb.stream),r.timestamp=Date.now(),e&&(e.Na[n]=r,e.timestamp=r.timestamp),r},Rb:function(e){return e.Na?e.Na.subarray?e.Na.subarray(0,e.Ra):new Uint8Array(e.Na):new Uint8Array(0)},wb:function(e,n){var r=e.Na?e.Na.length:0;r>=n||(n=Math.max(n,r*(1048576>r?2:1.125)>>>0),r!=0&&(n=Math.max(n,256)),r=e.Na,e.Na=new Uint8Array(n),0<e.Ra&&e.Na.set(r.subarray(0,e.Ra),0))},Nb:function(e,n){if(e.Ra!=n)if(n==0)e.Na=null,e.Ra=0;else{var r=e.Na;e.Na=new Uint8Array(n),r&&e.Na.set(r.subarray(0,Math.min(n,e.Ra))),e.Ra=n}},La:{Ta:function(e){var n={};return n.dev=(e.mode&61440)==8192?e.id:1,n.ino=e.id,n.mode=e.mode,n.nlink=1,n.uid=0,n.gid=0,n.rdev=e.rdev,Z(e.mode)?n.size=4096:(e.mode&61440)==32768?n.size=e.Ra:(e.mode&61440)==40960?n.size=e.link.length:n.size=0,n.atime=new Date(e.timestamp),n.mtime=new Date(e.timestamp),n.ctime=new Date(e.timestamp),n.Fb=4096,n.blocks=Math.ceil(n.size/n.Fb),n},Sa:function(e,n){n.mode!==void 0&&(e.mode=n.mode),n.timestamp!==void 0&&(e.timestamp=n.timestamp),n.size!==void 0&&L.Nb(e,n.size)},lookup:function(){throw At[44]},fb:function(e,n,r,u){return L.createNode(e,n,r,u)},rename:function(e,n,r){if(Z(e.mode)){try{var u=at(n,r)}catch{}if(u)for(var a in u.Na)throw new g(55)}delete e.parent.Na[e.name],e.parent.timestamp=Date.now(),e.name=r,n.Na[r]=e,n.timestamp=e.parent.timestamp,e.parent=n},unlink:function(e,n){delete e.Na[n],e.timestamp=Date.now()},rmdir:function(e,n){var r=at(e,n),u;for(u in r.Na)throw new g(55);delete e.Na[n],e.timestamp=Date.now()},readdir:function(e){var n=[".",".."],r;for(r in e.Na)e.Na.hasOwnProperty(r)&&n.push(r);return n},symlink:function(e,n,r){return e=L.createNode(e,n,41471,0),e.link=r,e},readlink:function(e){if((e.mode&61440)!=40960)throw new g(28);return e.link}},Ma:{read:function(e,n,r,u,a){var c=e.node.Na;if(a>=e.node.Ra)return 0;if(e=Math.min(e.node.Ra-a,u),8<e&&c.subarray)n.set(c.subarray(a,a+e),r);else for(u=0;u<e;u++)n[r+u]=c[a+u];return e},write:function(e,n,r,u,a,c){if(n.buffer===z.buffer&&(c=!1),!u)return 0;if(e=e.node,e.timestamp=Date.now(),n.subarray&&(!e.Na||e.Na.subarray)){if(c)return e.Na=n.subarray(r,r+u),e.Ra=u;if(e.Ra===0&&a===0)return e.Na=n.slice(r,r+u),e.Ra=u;if(a+u<=e.Ra)return e.Na.set(n.subarray(r,r+u),a),u}if(L.wb(e,a+u),e.Na.subarray&&n.subarray)e.Na.set(n.subarray(r,r+u),a);else for(c=0;c<u;c++)e.Na[a+c]=n[r+c];return e.Ra=Math.max(e.Ra,a+u),u},Ya:function(e,n,r){if(r===1?n+=e.position:r===2&&(e.node.mode&61440)==32768&&(n+=e.node.Ra),0>n)throw new g(28);return n},rb:function(e,n,r){L.wb(e.node,n+r),e.node.Ra=Math.max(e.node.Ra,n+r)},gb:function(e,n,r,u,a,c){if(n!==0)throw new g(28);if((e.node.mode&61440)!=32768)throw new g(43);if(e=e.node.Na,c&2||e.buffer!==Pt){if((0<u||u+r<e.length)&&(e.subarray?e=e.subarray(u,u+r):e=Array.prototype.slice.call(e,u,u+r)),u=!0,r=De(r),!r)throw new g(48);z.set(e,r)}else u=!1,r=e.byteOffset;return{Mb:r,jb:u}},hb:function(e,n,r,u,a){if((e.node.mode&61440)!=32768)throw new g(43);return a&2||L.Ma.write(e,n,0,u,r,!1),0}}},Yt=null,He={},W=[],nn=1,Q=null,G=!0,ot={},g=null,At={};function J(e,n){if(e=Tt("/",e),n=n||{},!e)return{path:"",node:null};var r={xb:!0,qb:0},u;for(u in r)n[u]===void 0&&(n[u]=r[u]);if(8<n.qb)throw new g(32);e=zt(e.split("/").filter(function(v){return!!v}),!1);var a=Yt;for(r="/",u=0;u<e.length;u++){var c=u===e.length-1;if(c&&n.parent)break;if(a=at(a,e[u]),r=vt(r+"/"+e[u]),a.$a&&(!c||c&&n.xb)&&(a=a.$a.root),!c||n.Xa){for(c=0;(a.mode&61440)==40960;)if(a=ze(r),r=Tt(pe(r),a),a=J(r,{qb:n.qb}).node,40<c++)throw new g(32)}}return{path:r,node:a}}function te(e){for(var n;;){if(e===e.parent)return e=e.Va.Ab,n?e[e.length-1]!=="/"?e+"/"+n:e+n:e;n=n?e.name+"/"+n:e.name,e=e.parent}}function ee(e,n){for(var r=0,u=0;u<n.length;u++)r=(r<<5)-r+n.charCodeAt(u)|0;return(e+r>>>0)%Q.length}function rn(e){var n=ee(e.parent.id,e.name);if(Q[n]===e)Q[n]=e.ab;else for(n=Q[n];n;){if(n.ab===e){n.ab=e.ab;break}n=n.ab}}function at(e,n){var r;if(r=(r=Xt(e,"x"))?r:e.La.lookup?0:2)throw new g(r,e);for(r=Q[ee(e.id,n)];r;r=r.ab){var u=r.name;if(r.parent.id===e.id&&u===n)return r}return e.La.lookup(e,n)}function de(e,n,r,u){return e=new gn(e,n,r,u),n=ee(e.parent.id,e.name),e.ab=Q[n],Q[n]=e}function Z(e){return(e&61440)==16384}var lt={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090};function ut(e){var n=["r","w","rw"][e&3];return e&512&&(n+="w"),n}function Xt(e,n){if(G)return 0;if(!n.includes("r")||e.mode&292){if(n.includes("w")&&!(e.mode&146)||n.includes("x")&&!(e.mode&73))return 2}else return 2;return 0}function on(e,n){try{return at(e,n),20}catch{}return Xt(e,"wx")}function Be(e,n,r){try{var u=at(e,n)}catch(a){return a.Pa}if(e=Xt(e,"wx"))return e;if(r){if(!Z(u.mode))return 54;if(u===u.parent||te(u)==="/")return 10}else if(Z(u.mode))return 31;return 0}function un(e){var n=4096;for(e=e||0;e<=n;e++)if(!W[e])return e;throw new g(33)}function ne(e,n){be||(be=function(){},be.prototype={});var r=new be,u;for(u in e)r[u]=e[u];return e=r,n=un(n),e.fd=n,W[n]=e}var sn={open:function(e){e.Ma=He[e.node.rdev].Ma,e.Ma.open&&e.Ma.open(e)},Ya:function(){throw new g(70)}};function We(e,n){He[e]={Ma:n}}function an(e,n){var r=n==="/",u=!n;if(r&&Yt)throw new g(10);if(!r&&!u){var a=J(n,{xb:!1});if(n=a.path,a=a.node,a.$a)throw new g(10);if(!Z(a.mode))throw new g(54)}n={type:e,Sb:{},Ab:n,Kb:[]},e=e.Va(n),e.Va=n,n.root=e,r?Yt=e:a&&(a.$a=n,a.Va&&a.Va.Kb.push(n))}function Vt(e,n,r){var u=J(e,{parent:!0}).node;if(e=Zt(e),!e||e==="."||e==="..")throw new g(28);var a=on(u,e);if(a)throw new g(a);if(!u.La.fb)throw new g(63);return u.La.fb(u,e,n,r)}function ft(e,n){return Vt(e,(n!==void 0?n:511)&1023|16384,0)}function me(e,n,r){typeof r=="undefined"&&(r=n,n=438),Vt(e,n|8192,r)}function Ge(e,n){if(!Tt(e))throw new g(44);var r=J(n,{parent:!0}).node;if(!r)throw new g(44);n=Zt(n);var u=on(r,n);if(u)throw new g(u);if(!r.La.symlink)throw new g(63);r.La.symlink(r,n,e)}function re(e){var n=J(e,{parent:!0}).node,r=Zt(e),u=at(n,r),a=Be(n,r,!1);if(a)throw new g(a);if(!n.La.unlink)throw new g(63);if(u.$a)throw new g(10);try{ot.willDeletePath&&ot.willDeletePath(e)}catch(c){V("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+c.message)}n.La.unlink(n,r),rn(u);try{ot.onDeletePath}catch(c){V("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+c.message)}}function ze(e){if(e=J(e).node,!e)throw new g(44);if(!e.La.readlink)throw new g(28);return Tt(te(e.parent),e.La.readlink(e))}function ge(e,n){if(e=J(e,{Xa:!n}).node,!e)throw new g(44);if(!e.La.Ta)throw new g(63);return e.La.Ta(e)}function En(e){return ge(e,!0)}function ie(e,n){if(e=typeof e=="string"?J(e,{Xa:!0}).node:e,!e.La.Sa)throw new g(63);e.La.Sa(e,{mode:n&4095|e.mode&-4096,timestamp:Date.now()})}function Ye(e){if(e=typeof e=="string"?J(e,{Xa:!0}).node:e,!e.La.Sa)throw new g(63);e.La.Sa(e,{timestamp:Date.now()})}function ln(e,n){if(0>n)throw new g(28);if(e=typeof e=="string"?J(e,{Xa:!0}).node:e,!e.La.Sa)throw new g(63);if(Z(e.mode))throw new g(31);if((e.mode&61440)!=32768)throw new g(28);var r=Xt(e,"w");if(r)throw new g(r);e.La.Sa(e,{size:n,timestamp:Date.now()})}function Nt(e,n,r,u){if(e==="")throw new g(44);if(typeof n=="string"){var a=lt[n];if(typeof a=="undefined")throw Error("Unknown file open mode: "+n);n=a}if(r=n&64?(typeof r=="undefined"?438:r)&4095|32768:0,typeof e=="object")var c=e;else{e=vt(e);try{c=J(e,{Xa:!(n&131072)}).node}catch{}}if(a=!1,n&64)if(c){if(n&128)throw new g(20)}else c=Vt(e,r,0),a=!0;if(!c)throw new g(44);if((c.mode&61440)==8192&&(n&=-513),n&65536&&!Z(c.mode))throw new g(54);if(!a&&(r=c?(c.mode&61440)==40960?32:Z(c.mode)&&(ut(n)!=="r"||n&512)?31:Xt(c,ut(n)):44))throw new g(r);n&512&&ln(c,0),n&=-131713,u=ne({node:c,path:te(c),flags:n,seekable:!0,position:0,Ma:c.Ma,Pb:[],error:!1},u),u.Ma.open&&u.Ma.open(u),!l.logReadFiles||n&1||(we||(we={}),e in we||(we[e]=1,V("FS.trackingDelegate error on read file: "+e)));try{ot.onOpenFile&&(c=0,(n&2097155)!=1&&(c|=1),(n&2097155)!=0&&(c|=2),ot.onOpenFile(e,c))}catch(v){V("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+v.message)}return u}function oe(e){if(e.fd===null)throw new g(8);e.nb&&(e.nb=null);try{e.Ma.close&&e.Ma.close(e)}catch(n){throw n}finally{W[e.fd]=null}e.fd=null}function Xe(e,n,r){if(e.fd===null)throw new g(8);if(!e.seekable||!e.Ma.Ya)throw new g(70);if(r!=0&&r!=1&&r!=2)throw new g(28);e.position=e.Ma.Ya(e,n,r),e.Pb=[]}function fn(e,n,r,u,a){if(0>u||0>a)throw new g(28);if(e.fd===null)throw new g(8);if((e.flags&2097155)==1)throw new g(8);if(Z(e.node.mode))throw new g(31);if(!e.Ma.read)throw new g(28);var c=typeof a!="undefined";if(!c)a=e.position;else if(!e.seekable)throw new g(70);return n=e.Ma.read(e,n,r,u,a),c||(e.position+=n),n}function cn(e,n,r,u,a,c){if(0>u||0>a)throw new g(28);if(e.fd===null)throw new g(8);if((e.flags&2097155)==0)throw new g(8);if(Z(e.node.mode))throw new g(31);if(!e.Ma.write)throw new g(28);e.seekable&&e.flags&1024&&Xe(e,0,2);var v=typeof a!="undefined";if(!v)a=e.position;else if(!e.seekable)throw new g(70);n=e.Ma.write(e,n,r,u,a,c),v||(e.position+=n);try{e.path&&ot.onWriteToFile&&ot.onWriteToFile(e.path)}catch(R){V("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+R.message)}return n}function hn(e){var n={encoding:"binary"};if(n=n||{},n.flags=n.flags||0,n.encoding=n.encoding||"binary",n.encoding!=="utf8"&&n.encoding!=="binary")throw Error('Invalid encoding type "'+n.encoding+'"');var r,u=Nt(e,n.flags);e=ge(e).size;var a=new Uint8Array(e);return fn(u,a,0,e,0),n.encoding==="utf8"?r=Ht(a,0):n.encoding==="binary"&&(r=a),oe(u),r}function pn(){g||(g=function(e,n){this.node=n,this.Ob=function(r){this.Pa=r},this.Ob(e),this.message="FS error"},g.prototype=Error(),g.prototype.constructor=g,[44].forEach(function(e){At[e]=new g(e),At[e].stack="<generic error, no stack>"}))}var dn;function ye(e,n){var r=0;return e&&(r|=365),n&&(r|=146),r}function jt(e,n,r){e=vt("/dev/"+e);var u=ye(!!n,!!r);ve||(ve=64);var a=ve++<<8|0;We(a,{open:function(c){c.seekable=!1},close:function(){r&&r.buffer&&r.buffer.length&&r(10)},read:function(c,v,R,P){for(var x=0,U=0;U<P;U++){try{var S=n()}catch{throw new g(29)}if(S===void 0&&x===0)throw new g(6);if(S==null)break;x++,v[R+U]=S}return x&&(c.node.timestamp=Date.now()),x},write:function(c,v,R,P){for(var x=0;x<P;x++)try{r(v[R+x])}catch{throw new g(29)}return P&&(c.node.timestamp=Date.now()),x}}),me(e,u,a)}var ve,D={},be,we,Ve={};function _e(e,n,r){try{var u=e(n)}catch(a){if(a&&a.node&&vt(n)!==vt(te(a.node)))return-54;throw a}return T[r>>2]=u.dev,T[r+4>>2]=0,T[r+8>>2]=u.ino,T[r+12>>2]=u.mode,T[r+16>>2]=u.nlink,T[r+20>>2]=u.uid,T[r+24>>2]=u.gid,T[r+28>>2]=u.rdev,T[r+32>>2]=0,nt=[u.size>>>0,(q=u.size,1<=+Math.abs(q)?0<q?(Math.min(+Math.floor(q/4294967296),4294967295)|0)>>>0:~~+Math.ceil((q-+(~~q>>>0))/4294967296)>>>0:0)],T[r+40>>2]=nt[0],T[r+44>>2]=nt[1],T[r+48>>2]=4096,T[r+52>>2]=u.blocks,T[r+56>>2]=u.atime.getTime()/1e3|0,T[r+60>>2]=0,T[r+64>>2]=u.mtime.getTime()/1e3|0,T[r+68>>2]=0,T[r+72>>2]=u.ctime.getTime()/1e3|0,T[r+76>>2]=0,nt=[u.ino>>>0,(q=u.ino,1<=+Math.abs(q)?0<q?(Math.min(+Math.floor(q/4294967296),4294967295)|0)>>>0:~~+Math.ceil((q-+(~~q>>>0))/4294967296)>>>0:0)],T[r+80>>2]=nt[0],T[r+84>>2]=nt[1],0}var Ee=void 0;function Te(){return Ee+=4,T[Ee-4>>2]}function gt(e){if(e=W[e],!e)throw new g(8);return e}var $e;$e=_t?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:function(){return performance.now()};var Ke={};function mn(){if(!$t){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ke||"./this.program"},n;for(n in Ke)Ke[n]===void 0?delete e[n]:e[n]=Ke[n];var r=[];for(n in e)r.push(n+"="+e[n]);$t=r}return $t}var $t;function gn(e,n,r,u){e||(e=this),this.parent=e,this.Va=e.Va,this.$a=null,this.id=nn++,this.name=n,this.mode=r,this.La={},this.Ma={},this.rdev=u}Object.defineProperties(gn.prototype,{read:{get:function(){return(this.mode&365)==365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)==146},set:function(e){e?this.mode|=146:this.mode&=-147}}}),pn(),Q=Array(4096),an(L,"/"),ft("/tmp"),ft("/home"),ft("/home/web_user"),function(){ft("/dev"),We(259,{read:function(){return 0},write:function(n,r,u,a){return a}}),me("/dev/null",259),Ce(1280,tn),Ce(1536,en),me("/dev/tty",1280),me("/dev/tty1",1536);var e=Ue();jt("random",e),jt("urandom",e),ft("/dev/shm"),ft("/dev/shm/tmp")}(),function(){ft("/proc");var e=ft("/proc/self");ft("/proc/self/fd"),an({Va:function(){var n=de(e,"fd",16895,73);return n.La={lookup:function(r,u){var a=W[+u];if(!a)throw new g(8);return r={parent:null,Va:{Ab:"fake"},La:{readlink:function(){return a.path}}},r.parent=r}},n}},"/proc/self/fd")}();function yn(e,n){var r=Array(St(e)+1);return e=Ot(e,r,0,r.length),n&&(r.length=e),r}var Tn={a:function(e,n,r,u){O("Assertion failed: "+X(e)+", at: "+[n?X(n):"unknown filename",r,u?X(u):"unknown function"])},s:function(e,n){Ze||(Ze=!0,he()),e=new Date(1e3*T[e>>2]),T[n>>2]=e.getSeconds(),T[n+4>>2]=e.getMinutes(),T[n+8>>2]=e.getHours(),T[n+12>>2]=e.getDate(),T[n+16>>2]=e.getMonth(),T[n+20>>2]=e.getFullYear()-1900,T[n+24>>2]=e.getDay();var r=new Date(e.getFullYear(),0,1);T[n+28>>2]=(e.getTime()-r.getTime())/864e5|0,T[n+36>>2]=-(60*e.getTimezoneOffset());var u=new Date(e.getFullYear(),6,1).getTimezoneOffset();return r=r.getTimezoneOffset(),e=(u!=r&&e.getTimezoneOffset()==Math.min(r,u))|0,T[n+32>>2]=e,e=T[i()+(e?4:0)>>2],T[n+40>>2]=e,n},y:function(e,n){try{if(e=X(e),n&-8)var r=-28;else{var u;(u=J(e,{Xa:!0}).node)?(e="",n&4&&(e+="r"),n&2&&(e+="w"),n&1&&(e+="x"),r=e&&Xt(u,e)?-2:0):r=-44}return r}catch(a){return typeof D!="undefined"&&a instanceof g||O(a),-a.Pa}},i:function(e,n){try{return e=X(e),ie(e,n),0}catch(r){return typeof D!="undefined"&&r instanceof g||O(r),-r.Pa}},z:function(e){try{return e=X(e),Ye(e),0}catch(n){return typeof D!="undefined"&&n instanceof g||O(n),-n.Pa}},j:function(e,n){try{var r=W[e];if(!r)throw new g(8);return ie(r.node,n),0}catch(u){return typeof D!="undefined"&&u instanceof g||O(u),-u.Pa}},A:function(e){try{var n=W[e];if(!n)throw new g(8);return Ye(n.node),0}catch(r){return typeof D!="undefined"&&r instanceof g||O(r),-r.Pa}},b:function(e,n,r){Ee=r;try{var u=gt(e);switch(n){case 0:var a=Te();return 0>a?-28:Nt(u.path,u.flags,0,a).fd;case 1:case 2:return 0;case 3:return u.flags;case 4:return a=Te(),u.flags|=a,0;case 12:return a=Te(),fe[a+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return T[Ae()>>2]=28,-1;default:return-28}}catch(c){return typeof D!="undefined"&&c instanceof g||O(c),-c.Pa}},k:function(e,n){try{var r=gt(e);return _e(ge,r.path,n)}catch(u){return typeof D!="undefined"&&u instanceof g||O(u),-u.Pa}},E:function(e,n,r){try{var u=W[e];if(!u)throw new g(8);if((u.flags&2097155)==0)throw new g(28);return ln(u.node,r),0}catch(a){return typeof D!="undefined"&&a instanceof g||O(a),-a.Pa}},D:function(e,n){try{return n===0?-28:n<St("/")+1?-68:(Ot("/",tt,e,n),e)}catch(r){return typeof D!="undefined"&&r instanceof g||O(r),-r.Pa}},v:function(){return 0},d:function(){return 42},h:function(e,n){try{return e=X(e),_e(En,e,n)}catch(r){return typeof D!="undefined"&&r instanceof g||O(r),-r.Pa}},l:function(e,n){try{return e=X(e),e=vt(e),e[e.length-1]==="/"&&(e=e.substr(0,e.length-1)),ft(e,n),0}catch(r){return typeof D!="undefined"&&r instanceof g||O(r),-r.Pa}},t:function(e,n,r,u,a,c){try{t:{c<<=12;var v=!1;if((u&16)!=0&&e%65536!=0)var R=-28;else{if((u&32)!=0){var P=De(n);if(!P){R=-48;break t}v=!0}else{var x=W[a];if(!x){R=-8;break t}var U=c;if((r&2)!=0&&(u&2)==0&&(x.flags&2097155)!=2)throw new g(2);if((x.flags&2097155)==1)throw new g(2);if(!x.Ma.gb)throw new g(43);var S=x.Ma.gb(x,e,n,U,r,u);P=S.Mb,v=S.jb}Ve[P]={Jb:P,Ib:n,jb:v,fd:a,Lb:r,flags:u,offset:c},R=P}}return R}catch(C){return typeof D!="undefined"&&C instanceof g||O(C),-C.Pa}},u:function(e,n){try{var r=Ve[e];if(n!==0&&r){if(n===r.Ib){var u=W[r.fd];if(u&&r.Lb&2){var a=r.flags,c=r.offset,v=tt.slice(e,e+n);u&&u.Ma.hb&&u.Ma.hb(u,v,c,n,a)}Ve[e]=null,r.jb&&t(r.Jb)}var R=0}else R=-28;return R}catch(P){return typeof D!="undefined"&&P instanceof g||O(P),-P.Pa}},I:function(e,n,r){Ee=r;try{var u=X(e),a=r?Te():0;return Nt(u,n,a).fd}catch(c){return typeof D!="undefined"&&c instanceof g||O(c),-c.Pa}},F:function(e,n,r){try{if(e=X(e),0>=r)var u=-28;else{var a=ze(e),c=Math.min(r,St(a)),v=z[n+c];Ot(a,tt,n,r+1),z[n+c]=v,u=c}return u}catch(R){return typeof D!="undefined"&&R instanceof g||O(R),-R.Pa}},H:function(e){try{e=X(e);var n=J(e,{parent:!0}).node,r=Zt(e),u=at(n,r),a=Be(n,r,!0);if(a)throw new g(a);if(!n.La.rmdir)throw new g(63);if(u.$a)throw new g(10);try{ot.willDeletePath&&ot.willDeletePath(e)}catch(c){V("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+c.message)}n.La.rmdir(n,r),rn(u);try{ot.onDeletePath}catch(c){V("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+c.message)}return 0}catch(c){return typeof D!="undefined"&&c instanceof g||O(c),-c.Pa}},e:function(e,n){try{return e=X(e),_e(ge,e,n)}catch(r){return typeof D!="undefined"&&r instanceof g||O(r),-r.Pa}},x:function(e){try{return e=X(e),re(e),0}catch(n){return typeof D!="undefined"&&n instanceof g||O(n),-n.Pa}},J:function(){return 2147483648},n:function(e,n,r){tt.copyWithin(e,n,n+r)},c:function(e){var n=tt.length;if(e>>>=0,2147483648<e)return!1;for(var r=1;4>=r;r*=2){var u=n*(1+.2/r);u=Math.min(u,e+100663296),u=Math.max(e,u),0<u%65536&&(u+=65536-u%65536);t:{try{Se.grow(Math.min(2147483648,u)-Pt.byteLength+65535>>>16),je();var a=1;break t}catch{}a=void 0}if(a)return!0}return!1},r:function(e){for(var n=$e();$e()-n<e;);},p:function(e,n){var r=0;return mn().forEach(function(u,a){var c=n+r;for(a=T[e+4*a>>2]=c,c=0;c<u.length;++c)z[a++>>0]=u.charCodeAt(c);z[a>>0]=0,r+=u.length+1}),0},q:function(e,n){var r=mn();T[e>>2]=r.length;var u=0;return r.forEach(function(a){u+=a.length+1}),T[n>>2]=u,0},f:function(e){try{var n=gt(e);return oe(n),0}catch(r){return typeof D!="undefined"&&r instanceof g||O(r),r.Pa}},o:function(e,n){try{var r=gt(e);return z[n>>0]=r.tty?2:Z(r.mode)?3:(r.mode&61440)==40960?7:4,0}catch(u){return typeof D!="undefined"&&u instanceof g||O(u),u.Pa}},w:function(e,n,r,u){try{t:{for(var a=gt(e),c=e=0;c<r;c++){var v=T[n+(8*c+4)>>2],R=fn(a,z,T[n+8*c>>2],v,void 0);if(0>R){var P=-1;break t}if(e+=R,R<v)break}P=e}return T[u>>2]=P,0}catch(x){return typeof D!="undefined"&&x instanceof g||O(x),x.Pa}},m:function(e,n,r,u,a){try{var c=gt(e);return e=4294967296*r+(n>>>0),-9007199254740992>=e||9007199254740992<=e?-61:(Xe(c,e,u),nt=[c.position>>>0,(q=c.position,1<=+Math.abs(q)?0<q?(Math.min(+Math.floor(q/4294967296),4294967295)|0)>>>0:~~+Math.ceil((q-+(~~q>>>0))/4294967296)>>>0:0)],T[a>>2]=nt[0],T[a+4>>2]=nt[1],c.nb&&e===0&&u===0&&(c.nb=null),0)}catch(v){return typeof D!="undefined"&&v instanceof g||O(v),v.Pa}},G:function(e){try{var n=gt(e);return n.Ma&&n.Ma.fsync?-n.Ma.fsync(n):0}catch(r){return typeof D!="undefined"&&r instanceof g||O(r),r.Pa}},B:function(e,n,r,u){try{t:{for(var a=gt(e),c=e=0;c<r;c++){var v=cn(a,z,T[n+8*c>>2],T[n+(8*c+4)>>2],void 0);if(0>v){var R=-1;break t}e+=v}R=e}return T[u>>2]=R,0}catch(P){return typeof D!="undefined"&&P instanceof g||O(P),P.Pa}},g:function(e){var n=Date.now();return T[e>>2]=n/1e3|0,T[e+4>>2]=n%1e3*1e3|0,0},K:function(e){var n=Date.now()/1e3|0;return e&&(T[e>>2]=n),n},C:function(e,n){if(n){var r=n+8;n=1e3*T[r>>2],n+=T[r+4>>2]/1e3}else n=Date.now();e=X(e);try{var u=J(e,{Xa:!0}).node;u.La.Sa(u,{timestamp:Math.max(n,n)});var a=0}catch(c){if(!(c instanceof g)){t:{if(a=Error(),!a.stack){try{throw Error()}catch(v){a=v}if(!a.stack){a="(no stack trace available)";break t}}a=a.stack.toString()}throw l.extraStackTrace&&(a+=`
`+l.extraStackTrace()),a=Je(a),c+" : "+a}a=c.Pa,T[Ae()>>2]=a,a=-1}return a}};(function(){function e(a){l.asm=a.exports,Se=l.asm.L,je(),dt=l.asm.Ca,mt.unshift(l.asm.M),Et--,l.monitorRunDependencies&&l.monitorRunDependencies(Et),Et==0&&Ft&&(a=Ft,Ft=null,a())}function n(a){e(a.instance)}function r(a){return Gt().then(function(c){return WebAssembly.instantiate(c,u)}).then(function(c){return c}).then(a,function(c){V("failed to asynchronously prepare wasm: "+c),O(c)})}var u={a:Tn};if(Et++,l.monitorRunDependencies&&l.monitorRunDependencies(Et),l.instantiateWasm)try{return l.instantiateWasm(u,e)}catch(a){return V("Module.instantiateWasm callback failed with error: "+a),!1}return function(){return Qt||typeof WebAssembly.instantiateStreaming!="function"||Wt()||et.startsWith("file://")||typeof fetch!="function"?r(n):fetch(et,{credentials:"same-origin"}).then(function(a){return WebAssembly.instantiateStreaming(a,u).then(n,function(c){return V("wasm streaming compile failed: "+c),V("falling back to ArrayBuffer instantiation"),r(n)})})}(),{}})(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.M).apply(null,arguments)},l._sqlite3_free=function(){return(l._sqlite3_free=l.asm.N).apply(null,arguments)};var Ae=l.___errno_location=function(){return(Ae=l.___errno_location=l.asm.O).apply(null,arguments)};l._sqlite3_step=function(){return(l._sqlite3_step=l.asm.P).apply(null,arguments)},l._sqlite3_finalize=function(){return(l._sqlite3_finalize=l.asm.Q).apply(null,arguments)},l._sqlite3_prepare_v2=function(){return(l._sqlite3_prepare_v2=l.asm.R).apply(null,arguments)},l._sqlite3_reset=function(){return(l._sqlite3_reset=l.asm.S).apply(null,arguments)},l._sqlite3_clear_bindings=function(){return(l._sqlite3_clear_bindings=l.asm.T).apply(null,arguments)},l._sqlite3_value_blob=function(){return(l._sqlite3_value_blob=l.asm.U).apply(null,arguments)},l._sqlite3_value_text=function(){return(l._sqlite3_value_text=l.asm.V).apply(null,arguments)},l._sqlite3_value_bytes=function(){return(l._sqlite3_value_bytes=l.asm.W).apply(null,arguments)},l._sqlite3_value_double=function(){return(l._sqlite3_value_double=l.asm.X).apply(null,arguments)},l._sqlite3_value_int=function(){return(l._sqlite3_value_int=l.asm.Y).apply(null,arguments)},l._sqlite3_value_type=function(){return(l._sqlite3_value_type=l.asm.Z).apply(null,arguments)},l._sqlite3_result_blob=function(){return(l._sqlite3_result_blob=l.asm._).apply(null,arguments)},l._sqlite3_result_double=function(){return(l._sqlite3_result_double=l.asm.$).apply(null,arguments)},l._sqlite3_result_error=function(){return(l._sqlite3_result_error=l.asm.aa).apply(null,arguments)},l._sqlite3_result_int=function(){return(l._sqlite3_result_int=l.asm.ba).apply(null,arguments)},l._sqlite3_result_int64=function(){return(l._sqlite3_result_int64=l.asm.ca).apply(null,arguments)},l._sqlite3_result_null=function(){return(l._sqlite3_result_null=l.asm.da).apply(null,arguments)},l._sqlite3_result_text=function(){return(l._sqlite3_result_text=l.asm.ea).apply(null,arguments)},l._sqlite3_column_count=function(){return(l._sqlite3_column_count=l.asm.fa).apply(null,arguments)},l._sqlite3_data_count=function(){return(l._sqlite3_data_count=l.asm.ga).apply(null,arguments)},l._sqlite3_column_blob=function(){return(l._sqlite3_column_blob=l.asm.ha).apply(null,arguments)},l._sqlite3_column_bytes=function(){return(l._sqlite3_column_bytes=l.asm.ia).apply(null,arguments)},l._sqlite3_column_double=function(){return(l._sqlite3_column_double=l.asm.ja).apply(null,arguments)},l._sqlite3_column_text=function(){return(l._sqlite3_column_text=l.asm.ka).apply(null,arguments)},l._sqlite3_column_type=function(){return(l._sqlite3_column_type=l.asm.la).apply(null,arguments)},l._sqlite3_column_name=function(){return(l._sqlite3_column_name=l.asm.ma).apply(null,arguments)},l._sqlite3_bind_blob=function(){return(l._sqlite3_bind_blob=l.asm.na).apply(null,arguments)},l._sqlite3_bind_double=function(){return(l._sqlite3_bind_double=l.asm.oa).apply(null,arguments)},l._sqlite3_bind_int=function(){return(l._sqlite3_bind_int=l.asm.pa).apply(null,arguments)},l._sqlite3_bind_text=function(){return(l._sqlite3_bind_text=l.asm.qa).apply(null,arguments)},l._sqlite3_bind_parameter_index=function(){return(l._sqlite3_bind_parameter_index=l.asm.ra).apply(null,arguments)},l._sqlite3_sql=function(){return(l._sqlite3_sql=l.asm.sa).apply(null,arguments)},l._sqlite3_normalized_sql=function(){return(l._sqlite3_normalized_sql=l.asm.ta).apply(null,arguments)},l._sqlite3_errmsg=function(){return(l._sqlite3_errmsg=l.asm.ua).apply(null,arguments)},l._sqlite3_exec=function(){return(l._sqlite3_exec=l.asm.va).apply(null,arguments)},l._sqlite3_changes=function(){return(l._sqlite3_changes=l.asm.wa).apply(null,arguments)},l._sqlite3_close_v2=function(){return(l._sqlite3_close_v2=l.asm.xa).apply(null,arguments)},l._sqlite3_create_function_v2=function(){return(l._sqlite3_create_function_v2=l.asm.ya).apply(null,arguments)},l._sqlite3_open=function(){return(l._sqlite3_open=l.asm.za).apply(null,arguments)};var ue=l._malloc=function(){return(ue=l._malloc=l.asm.Aa).apply(null,arguments)},t=l._free=function(){return(t=l._free=l.asm.Ba).apply(null,arguments)};l._RegisterExtensionFunctions=function(){return(l._RegisterExtensionFunctions=l.asm.Da).apply(null,arguments)};var i=l.__get_tzname=function(){return(i=l.__get_tzname=l.asm.Ea).apply(null,arguments)},o=l.__get_daylight=function(){return(o=l.__get_daylight=l.asm.Fa).apply(null,arguments)},s=l.__get_timezone=function(){return(s=l.__get_timezone=l.asm.Ga).apply(null,arguments)},f=l.stackSave=function(){return(f=l.stackSave=l.asm.Ha).apply(null,arguments)},p=l.stackRestore=function(){return(p=l.stackRestore=l.asm.Ia).apply(null,arguments)},h=l.stackAlloc=function(){return(h=l.stackAlloc=l.asm.Ja).apply(null,arguments)},y=l._memalign=function(){return(y=l._memalign=l.asm.Ka).apply(null,arguments)};l.cwrap=function(e,n,r,u){r=r||[];var a=r.every(function(c){return c==="number"});return n!=="string"&&a&&!u?Pe(e):function(){return Fe(e,n,r,arguments)}},l.UTF8ToString=X,l.stackSave=f,l.stackRestore=p,l.stackAlloc=h;var m;Ft=function e(){m||w(),m||(Ft=e)};function w(){function e(){if(!m&&(m=!0,l.calledRun=!0,!Dt)){if(l.noFSInit||dn||(dn=!0,pn(),l.stdin=l.stdin,l.stdout=l.stdout,l.stderr=l.stderr,l.stdin?jt("stdin",l.stdin):Ge("/dev/tty","/dev/stdin"),l.stdout?jt("stdout",null,l.stdout):Ge("/dev/tty","/dev/stdout"),l.stderr?jt("stderr",null,l.stderr):Ge("/dev/tty1","/dev/stderr"),Nt("/dev/stdin",0),Nt("/dev/stdout",1),Nt("/dev/stderr",1)),G=!1,Mt(mt),l.onRuntimeInitialized&&l.onRuntimeInitialized(),l.postRun)for(typeof l.postRun=="function"&&(l.postRun=[l.postRun]);l.postRun.length;){var n=l.postRun.shift();yt.unshift(n)}Mt(yt)}}if(!(0<Et)){if(l.preRun)for(typeof l.preRun=="function"&&(l.preRun=[l.preRun]);l.preRun.length;)wn();Mt(Ie),0<Et||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),e()},1)):e())}}if(l.run=w,l.preInit)for(typeof l.preInit=="function"&&(l.preInit=[l.preInit]);0<l.preInit.length;)l.preInit.pop()();return w(),N}),A)};E.exports=k,E.exports.default=k})(jn);var _r=jn.exports,Er={};(function(){var E;function _(t){var i=0;return function(){return i<t.length?{done:!1,value:t[i++]}:{done:!0}}}var A=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,i,o){return t==Array.prototype||t==Object.prototype||(t[i]=o.value),t};function k(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ln=="object"&&Ln];for(var i=0;i<t.length;++i){var o=t[i];if(o&&o.Math==Math)return o}throw Error("Cannot find global object")}var I=k(this);function j(t,i){if(i)t:{var o=I;t=t.split(".");for(var s=0;s<t.length-1;s++){var f=t[s];if(!(f in o))break t;o=o[f]}t=t[t.length-1],s=o[t],i=i(s),i!=s&&i!=null&&A(o,t,{configurable:!0,writable:!0,value:i})}}j("Symbol",function(t){function i(p){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return new o(s+(p||"")+"_"+f++,p)}function o(p,h){this.g=p,A(this,"description",{configurable:!0,writable:!0,value:h})}if(t)return t;o.prototype.toString=function(){return this.g};var s="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",f=0;return i}),j("Symbol.iterator",function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var i="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<i.length;o++){var s=I[i[o]];typeof s=="function"&&typeof s.prototype[t]!="function"&&A(s.prototype,t,{configurable:!0,writable:!0,value:function(){return B(_(this))}})}return t});function B(t){return t={next:t},t[Symbol.iterator]=function(){return this},t}function N(t){var i=typeof Symbol!="undefined"&&Symbol.iterator&&t[Symbol.iterator];return i?i.call(t):{next:_(t)}}function Le(t){if(!(t instanceof Array)){t=N(t);for(var i,o=[];!(i=t.next()).done;)o.push(i.value);t=o}return t}var l=typeof Object.create=="function"?Object.create:function(t){function i(){}return i.prototype=t,new i},Lt;if(typeof Object.setPrototypeOf=="function")Lt=Object.setPrototypeOf;else{var pt;t:{var ke={a:!0},xe={};try{xe.__proto__=ke,pt=xe.a;break t}catch{}pt=!1}Lt=pt?function(t,i){if(t.__proto__=i,t.__proto__!==i)throw new TypeError(t+" is not extensible");return t}:null}var It=Lt;function _t(t,i){if(t.prototype=l(i.prototype),t.prototype.constructor=t,It)It(t,i);else for(var o in i)if(o!="prototype")if(Object.defineProperties){var s=Object.getOwnPropertyDescriptor(i,o);s&&Object.defineProperty(t,o,s)}else t[o]=i[o];t.ea=i.prototype}function it(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function Kt(t){if(t.l)throw new TypeError("Generator is already running");t.l=!0}it.prototype.o=function(t){this.h=t};function Ut(t,i){t.j={U:i,V:!0},t.g=t.m||t.s}it.prototype.return=function(t){this.j={return:t},this.g=this.s};function H(t,i,o){return t.g=o,{value:i}}function kt(t){this.g=new it,this.h=t}function qt(t,i){Kt(t.g);var o=t.g.i;return o?ae(t,"return"in o?o.return:function(s){return{value:s,done:!0}},i,t.g.return):(t.g.return(i),V(t))}function ae(t,i,o,s){try{var f=i.call(t.g.i,o);if(!(f instanceof Object))throw new TypeError("Iterator result "+f+" is not an object");if(!f.done)return t.g.l=!1,f;var p=f.value}catch(h){return t.g.i=null,Ut(t.g,h),V(t)}return t.g.i=null,s.call(t.g,p),V(t)}function V(t){for(;t.g.g;)try{var i=t.h(t.g);if(i)return t.g.l=!1,{value:i.value,done:!1}}catch(o){t.g.h=void 0,Ut(t.g,o)}if(t.g.l=!1,t.g.j){if(i=t.g.j,t.g.j=null,i.V)throw i.U;return{value:i.return,done:!0}}return{value:void 0,done:!0}}function Oe(t){this.next=function(i){return Kt(t.g),t.g.i?i=ae(t,t.g.i.next,i,t.g.o):(t.g.o(i),i=V(t)),i},this.throw=function(i){return Kt(t.g),t.g.i?i=ae(t,t.g.i.throw,i,t.g.o):(Ut(t.g,i),i=V(t)),i},this.return=function(i){return qt(t,i)},this[Symbol.iterator]=function(){return this}}function xt(t){function i(s){return t.next(s)}function o(s){return t.throw(s)}return new Promise(function(s,f){function p(h){h.done?s(h.value):Promise.resolve(h.value).then(i,o).then(p,f)}p(t.next())})}function $(t){return xt(new Oe(new kt(t)))}j("Promise",function(t){function i(h){this.h=0,this.i=void 0,this.g=[],this.o=!1;var y=this.j();try{h(y.resolve,y.reject)}catch(m){y.reject(m)}}function o(){this.g=null}function s(h){return h instanceof i?h:new i(function(y){y(h)})}if(t)return t;o.prototype.h=function(h){if(this.g==null){this.g=[];var y=this;this.i(function(){y.l()})}this.g.push(h)};var f=I.setTimeout;o.prototype.i=function(h){f(h,0)},o.prototype.l=function(){for(;this.g&&this.g.length;){var h=this.g;this.g=[];for(var y=0;y<h.length;++y){var m=h[y];h[y]=null;try{m()}catch(w){this.j(w)}}}this.g=null},o.prototype.j=function(h){this.i(function(){throw h})},i.prototype.j=function(){function h(w){return function(e){m||(m=!0,w.call(y,e))}}var y=this,m=!1;return{resolve:h(this.C),reject:h(this.l)}},i.prototype.C=function(h){if(h===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(h instanceof i)this.F(h);else{t:switch(typeof h){case"object":var y=h!=null;break t;case"function":y=!0;break t;default:y=!1}y?this.v(h):this.m(h)}},i.prototype.v=function(h){var y=void 0;try{y=h.then}catch(m){this.l(m);return}typeof y=="function"?this.G(y,h):this.m(h)},i.prototype.l=function(h){this.s(2,h)},i.prototype.m=function(h){this.s(1,h)},i.prototype.s=function(h,y){if(this.h!=0)throw Error("Cannot settle("+h+", "+y+"): Promise already settled in state"+this.h);this.h=h,this.i=y,this.h===2&&this.D(),this.A()},i.prototype.D=function(){var h=this;f(function(){if(h.B()){var y=I.console;typeof y!="undefined"&&y.error(h.i)}},1)},i.prototype.B=function(){if(this.o)return!1;var h=I.CustomEvent,y=I.Event,m=I.dispatchEvent;return typeof m=="undefined"?!0:(typeof h=="function"?h=new h("unhandledrejection",{cancelable:!0}):typeof y=="function"?h=new y("unhandledrejection",{cancelable:!0}):(h=I.document.createEvent("CustomEvent"),h.initCustomEvent("unhandledrejection",!1,!0,h)),h.promise=this,h.reason=this.i,m(h))},i.prototype.A=function(){if(this.g!=null){for(var h=0;h<this.g.length;++h)p.h(this.g[h]);this.g=null}};var p=new o;return i.prototype.F=function(h){var y=this.j();h.J(y.resolve,y.reject)},i.prototype.G=function(h,y){var m=this.j();try{h.call(y,m.resolve,m.reject)}catch(w){m.reject(w)}},i.prototype.then=function(h,y){function m(r,u){return typeof r=="function"?function(a){try{w(r(a))}catch(c){e(c)}}:u}var w,e,n=new i(function(r,u){w=r,e=u});return this.J(m(h,w),m(y,e)),n},i.prototype.catch=function(h){return this.then(void 0,h)},i.prototype.J=function(h,y){function m(){switch(w.h){case 1:h(w.i);break;case 2:y(w.i);break;default:throw Error("Unexpected state: "+w.h)}}var w=this;this.g==null?p.h(m):this.g.push(m),this.o=!0},i.resolve=s,i.reject=function(h){return new i(function(y,m){m(h)})},i.race=function(h){return new i(function(y,m){for(var w=N(h),e=w.next();!e.done;e=w.next())s(e.value).J(y,m)})},i.all=function(h){var y=N(h),m=y.next();return m.done?s([]):new i(function(w,e){function n(a){return function(c){r[a]=c,u--,u==0&&w(r)}}var r=[],u=0;do r.push(void 0),u++,s(m.value).J(n(r.length-1),e),m=y.next();while(!m.done)})},i});function bn(t,i){t instanceof String&&(t+="");var o=0,s=!1,f={next:function(){if(!s&&o<t.length){var p=o++;return{value:i(p,t[p]),done:!1}}return s=!0,{done:!0,value:void 0}}};return f[Symbol.iterator]=function(){return f},f}var Qt=typeof Object.assign=="function"?Object.assign:function(t,i){for(var o=1;o<arguments.length;o++){var s=arguments[o];if(s)for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(t[f]=s[f])}return t};j("Object.assign",function(t){return t||Qt}),j("Object.is",function(t){return t||function(i,o){return i===o?i!==0||1/i==1/o:i!==i&&o!==o}}),j("Array.prototype.includes",function(t){return t||function(i,o){var s=this;s instanceof String&&(s=String(s));var f=s.length;for(o=o||0,0>o&&(o=Math.max(o+f,0));o<f;o++){var p=s[o];if(p===i||Object.is(p,i))return!0}return!1}}),j("String.prototype.includes",function(t){return t||function(i,o){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(i instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(i,o||0)!==-1}}),j("Array.prototype.keys",function(t){return t||function(){return bn(this,function(i){return i})}});var Ct=this||self;function K(t,i){t=t.split(".");var o=Ct;t[0]in o||typeof o.execScript=="undefined"||o.execScript("var "+t[0]);for(var s;t.length&&(s=t.shift());)t.length||i===void 0?o[s]&&o[s]!==Object.prototype[s]?o=o[s]:o=o[s]={}:o[s]=i}function Se(t){Ct.setTimeout(function(){throw t},0)}function Dt(t){Se(t)}function Pe(t,i){Dt(Error("Invalid wire type: "+t+" (at position "+i+")"))}function Fe(){Dt(Error("Failed to read varint, encoding is invalid."))}function le(t,i){return i=String.fromCharCode.apply(null,i),t==null?i:t+i}var Me,Ht=typeof TextDecoder!="undefined",X,Ot=typeof TextEncoder!="undefined";function St(t){if(Ot)t=(X||(X=new TextEncoder)).encode(t);else{var i=void 0;i=i===void 0?!1:i;for(var o=0,s=new Uint8Array(3*t.length),f=0;f<t.length;f++){var p=t.charCodeAt(f);if(128>p)s[o++]=p;else{if(2048>p)s[o++]=p>>6|192;else{if(55296<=p&&57343>=p){if(56319>=p&&f<t.length){var h=t.charCodeAt(++f);if(56320<=h&&57343>=h){p=1024*(p-55296)+h-56320+65536,s[o++]=p>>18|240,s[o++]=p>>12&63|128,s[o++]=p>>6&63|128,s[o++]=p&63|128;continue}else f--}if(i)throw Error("Found an unpaired surrogate");p=65533}s[o++]=p>>12|224,s[o++]=p>>6&63|128}s[o++]=p&63|128}}t=s.subarray(0,o)}return t}var Ne={},Pt=null;function z(t){var i;i===void 0&&(i=0),T(),i=Ne[i];for(var o=Array(Math.floor(t.length/3)),s=i[64]||"",f=0,p=0;f<t.length-2;f+=3){var h=t[f],y=t[f+1],m=t[f+2],w=i[h>>2];h=i[(h&3)<<4|y>>4],y=i[(y&15)<<2|m>>6],m=i[m&63],o[p++]=w+h+y+m}switch(w=0,m=s,t.length-f){case 2:w=t[f+1],m=i[(w&15)<<2]||s;case 1:t=t[f],o[p]=i[t>>2]+i[(t&3)<<4|w>>4]+m+s}return o.join("")}function tt(t){var i=t.length,o=3*i/4;o%3?o=Math.floor(o):"=.".indexOf(t[i-1])!=-1&&(o="=.".indexOf(t[i-2])!=-1?o-2:o-1);var s=new Uint8Array(o),f=0;return fe(t,function(p){s[f++]=p}),s.subarray(0,f)}function fe(t,i){function o(m){for(;s<t.length;){var w=t.charAt(s++),e=Pt[w];if(e!=null)return e;if(!/^[\s\xa0]*$/.test(w))throw Error("Unknown base64 encoding at char: "+w)}return m}T();for(var s=0;;){var f=o(-1),p=o(0),h=o(64),y=o(64);if(y===64&&f===-1)break;i(f<<2|p>>4),h!=64&&(i(p<<4&240|h>>2),y!=64&&i(h<<6&192|y))}}function T(){if(!Pt){Pt={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),i=["+/=","+/","-_=","-_.","-_"],o=0;5>o;o++){var s=t.concat(i[o].split(""));Ne[o]=s;for(var f=0;f<s.length;f++){var p=s[f];Pt[p]===void 0&&(Pt[p]=f)}}}}var Jt=typeof Uint8Array=="function",Bt;function je(t){if(this.g=t,t!==null&&t.length===0)throw Error("ByteString should be constructed with non-empty values")}je.prototype.toJSON=function(){if(this.g==null)var t="";else t=this.g,t=this.g=t==null||typeof t=="string"?t:Jt&&t instanceof Uint8Array?z(t):null;return t};var dt=typeof Uint8Array.prototype.slice=="function";function Ie(t,i,o){return i===o?Bt||(Bt=new Uint8Array(0)):dt?t.slice(i,o):new Uint8Array(t.subarray(i,o))}var mt=0,yt=0;function wn(t){if(t.constructor===Uint8Array)return t;if(t.constructor===ArrayBuffer)return new Uint8Array(t);if(t.constructor===Array)return new Uint8Array(t);if(t.constructor===String)return tt(t);if(t.constructor===je){if(t.g==null)var i=Bt||(Bt=new Uint8Array(0));else{i=Uint8Array;var o=t.g;o=o==null||Jt&&o!=null&&o instanceof Uint8Array?o:typeof o=="string"?tt(o):null,t=t.g=o,i=new i(t)}return i}if(t instanceof Uint8Array)return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function Et(t,i){i=i===void 0?{}:i,i=i.u===void 0?!1:i.u,this.h=null,this.g=this.i=this.l=0,this.j=!1,this.u=i,t&&Ft(this,t)}function Ft(t,i){t.h=wn(i),t.l=0,t.i=t.h.length,t.g=t.l}Et.prototype.reset=function(){this.g=this.l};function O(t){t.g>t.i&&(t.j=!0,Dt(Error("Tried to read past the end of the data "+t.g+" > "+t.i)))}function Wt(t){var i=t.h,o=i[t.g],s=o&127;return 128>o?(t.g+=1,O(t),s):(o=i[t.g+1],s|=(o&127)<<7,128>o?(t.g+=2,O(t),s):(o=i[t.g+2],s|=(o&127)<<14,128>o?(t.g+=3,O(t),s):(o=i[t.g+3],s|=(o&127)<<21,128>o?(t.g+=4,O(t),s):(o=i[t.g+4],s|=(o&15)<<28,128>o?(t.g+=5,O(t),s>>>0):(t.g+=5,128<=i[t.g++]&&128<=i[t.g++]&&128<=i[t.g++]&&128<=i[t.g++]&&128<=i[t.g++]?(t.j=!0,Fe(),s):(O(t),s))))))}var et=[];function ce(){this.g=new Uint8Array(64),this.h=0}function st(t,i){if(!(t.h+1<t.g.length)){var o=t.g;t.g=new Uint8Array(Math.ceil(1+2*t.g.length)),t.g.set(o)}t.g[t.h++]=i}ce.prototype.length=function(){return this.h},ce.prototype.end=function(){var t=this.g,i=this.h;return this.h=0,Ie(t,0,i)};function Gt(t,i){for(;127<i;)st(t,i&127|128),i>>>=7;st(t,i)}function q(t){var i={},o=i.N===void 0?!1:i.N;this.m={u:i.u===void 0?!1:i.u},this.N=o,i=this.m,et.length?(o=et.pop(),i&&(o.u=i.u),t&&Ft(o,t),t=o):t=new Et(t,i),this.g=t,this.l=this.g.g,this.h=this.i=-1,this.j=!1}q.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};function nt(t){var i=t.g;if((i=i.g==i.i)||(i=t.j)||(i=t.g,i=i.j||0>i.g||i.g>i.i),i)return!1;t.l=t.g.g;var o=Wt(t.g);return i=o>>>3,o&=7,0<=o&&5>=o?(t.i=i,t.h=o,!0):(t.j=!0,Pe(o,t.l),!1)}function Mt(t){switch(t.h){case 0:if(t.h!=0)Mt(t);else t:{t=t.g;for(var i=t.g,o=0;10>o;o++){if((t.h[i]&128)==0){t.g=i+1,O(t);break t}i++}t.j=!0,Fe()}break;case 1:t=t.g,t.g+=8,O(t);break;case 2:t.h!=2?Mt(t):(i=Wt(t.g),t=t.g,t.g+=i,O(t));break;case 5:t=t.g,t.g+=4,O(t);break;case 3:i=t.i;do{if(!nt(t)){t.j=!0,Dt(Error("Unmatched start-group tag: stream EOF"));break}if(t.h==4){t.i!=i&&(t.j=!0,Dt(Error("Unmatched end-group tag")));break}Mt(t)}while(1);break;default:t.j=!0,Pe(t.h,t.l)}}function Je(t,i,o){t.N||(t=Ie(t.g.h,o,t.g.g),(o=i.m)?o.push(t):i.m=[t])}var he=[];function Ze(){this.h=[],this.i=0,this.g=new ce}function zt(t,i){i.length!==0&&(t.h.push(i),t.i+=i.length)}function vt(t,i,o){Gt(t.g,8*i+2),Gt(t.g,o.length),zt(t,t.g.end()),zt(t,o)}var pe=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function Zt(t,i){Object.isFrozen(t)||(pe?t[pe]|=i:t.g!==void 0?t.g|=i:Object.defineProperties(t,{g:{value:i,configurable:!0,writable:!0,enumerable:!1}}))}function Ue(t){if(!t)return 0;var i;return pe?i=t[pe]:i=t.g,i==null?0:i}function Tt(t){return Array.isArray(t)&&Zt(t,1),t}function qe(t){if(!Array.isArray(t))throw Error("cannot mark non-array as immutable");Zt(t,2)}function Ce(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function _n(t){switch(typeof t){case"number":return isFinite(t)?t:String(t);case"object":return Jt&&t!=null&&t instanceof Uint8Array?z(t):t;default:return t}}function tn(t,i){if(t!=null)return Array.isArray(t)||Ce(t)?en(t,i):i(t)}function en(t,i){if(Array.isArray(t)){for(var o=Array(t.length),s=0;s<t.length;s++)o[s]=tn(t[s],i);return Ue(t)&1&&Tt(o),o}o={};for(s in t)o[s]=tn(t[s],i);return o}var De;function L(t,i,o){var s=De;De=null,t||(t=s),s=this.constructor.ca,t||(t=s?[s]:[]),this.j=(s?0:-1)-(this.constructor.aa||0),this.i=null,this.g=t;t:{if(s=this.g.length,t=s-1,s&&(s=this.g[t],Ce(s))){this.l=t-this.j,this.h=s;break t}i!==void 0&&-1<i?(this.l=Math.max(i,t+1-this.j),this.h=null):this.l=Number.MAX_VALUE}if(o)for(i=0;i<o.length;i++)t=o[i],t<this.l?(t+=this.j,(s=this.g[t])?Tt(s):this.g[t]=Yt):(He(this),(s=this.h[t])?Tt(s):this.h[t]=Yt)}var Yt=Object.freeze(Tt([]));function He(t){var i=t.l+t.j;t.g[i]||(t.h=t.g[i]={})}function W(t,i,o){return i===-1?null:(o===void 0?0:o)||i>=t.l?t.h?t.h[i]:void 0:t.g[i+t.j]}function nn(t,i,o){o=o===void 0?!0:o;var s=s===void 0?!1:s,f=W(t,i,s);return f==null&&(f=Yt),f===Yt?(f=Tt([]),G(t,i,f,s)):o&&Array.isArray(f)&&Ue(f)&2&&(f=f.slice(),G(t,i,f,s)),f}function Q(t,i,o){return t=W(t,i),t=t==null?t:+t,t==null?o===void 0?0:o:t}function G(t,i,o,s){(s===void 0?0:s)||i>=t.l?(He(t),t.h[i]=o):t.g[i+t.j]=o}function ot(t,i,o){t.i||(t.i={});var s=t.i[o];if(!s){var f=nn(t,o,!1);s=[];for(var p=Array.isArray(f)?!!(Ue(f)&2):!1,h=0;h<f.length;h++)s[h]=new i(f[h]),p&&qe(s[h].g);p&&(qe(s),Object.freeze(s)),t.i[o]=s}return s}function g(t,i,o,s,f){var p=ot(t,s,i);o=o||new s,t=nn(t,i),f!=null?(p.splice(f,0,o),t.splice(f,0,At(o))):(p.push(o),t.push(At(o)))}L.prototype.toJSON=function(){var t=At(this);return en(t,_n)};function At(t){if(t.i)for(var i in t.i){var o=t.i[i];if(Array.isArray(o))for(var s=0;s<o.length;s++)o[s]&&At(o[s]);else o&&At(o)}return t.g}L.prototype.toString=function(){return At(this).toString()};function J(t,i){return t=W(t,i),t==null?0:t}function te(t,i){return t=W(t,i),t==null?"":t}function ee(t,i){if(t=t.m){zt(i,i.g.end());for(var o=0;o<t.length;o++)zt(i,t[o])}}function rn(t){var i=t[0];switch(t.length){case 2:var o=t[1];return function(m,w,e){return i(m,w,e,o)};case 3:var s=t[1],f=t[2];return function(m,w,e){return i(m,w,e,s,f)};case 4:var p=t[1],h=t[2],y=t[3];return function(m,w,e){return i(m,w,e,p,h,y)};default:throw Error("unsupported number of parameters, expected [2-4], got "+t.length)}}function at(t,i,o){for(;nt(i)&&i.h!=4;){var s=i.i,f=o[s];if(f){if(Array.isArray(f)&&(f=o[s]=rn(f)),!f(i,t,s)){s=i,f=t;var p=s.l;Mt(s),Je(s,f,p)}}else s=i,f=t,p=s.l,Mt(s),Je(s,f,p)}return t}function de(t,i){var o=new Ze;if(i(t,o),t=o.i+o.g.length(),t===0)o=new Uint8Array(0);else{t=new Uint8Array(t);for(var s=o.h,f=s.length,p=i=0;p<f;p++){var h=s[p];h.length!==0&&(t.set(h,i),i+=h.length)}s=o.g,f=s.h,f!==0&&(t.set(s.g.subarray(0,f),i),s.h=0),o.h=[t],o=t}return o}function Z(t,i,o){if(he.length){var s=he.pop();t&&(Ft(s.g,t),s.i=-1,s.h=-1),t=s}else t=new q(t);try{return o(new i,t)}finally{i=t.g,i.h=null,i.l=0,i.i=0,i.g=0,i.j=!1,i.u=!1,t.i=-1,t.h=-1,t.j=!1,100>he.length&&he.push(t)}}function lt(t,i,o){if(i=W(i,o),i!=null){Gt(t.g,8*o+5),t=t.g;var s=i;s=(o=0>s?1:0)?-s:s,s===0?0<1/s?mt=yt=0:(yt=0,mt=2147483648):isNaN(s)?(yt=0,mt=2147483647):34028234663852886e22<s?(yt=0,mt=(o<<31|2139095040)>>>0):11754943508222875e-54>s?(s=Math.round(s/Math.pow(2,-149)),yt=0,mt=(o<<31|s)>>>0):(i=Math.floor(Math.log(s)/Math.LN2),s*=Math.pow(2,-i),s=Math.round(8388608*s),16777216<=s&&++i,yt=0,mt=(o<<31|i+127<<23|s&8388607)>>>0),o=mt,st(t,o>>>0&255),st(t,o>>>8&255),st(t,o>>>16&255),st(t,o>>>24&255)}}function ut(t,i,o){if(t.h!==5)return!1;t=t.g;var s=t.h[t.g],f=t.h[t.g+1],p=t.h[t.g+2],h=t.h[t.g+3];return t.g+=4,O(t),f=(s<<0|f<<8|p<<16|h<<24)>>>0,t=2*(f>>31)+1,s=f>>>23&255,f&=8388607,G(i,o,s==255?f?NaN:1/0*t:s==0?t*Math.pow(2,-149)*f:t*Math.pow(2,s-150)*(f+Math.pow(2,23))),!0}function Xt(t,i,o){if(t.h!==0)return!1;for(var s=t.g,f=128,p=0,h=t=0;4>h&&128<=f;h++)f=s.h[s.g++],p|=(f&127)<<7*h;if(128<=f&&(f=s.h[s.g++],p|=(f&127)<<28,t|=(f&127)>>4),128<=f)for(h=0;5>h&&128<=f;h++)f=s.h[s.g++],t|=(f&127)<<7*h+3;return 128>f?(s=p>>>0,f=t>>>0,(t=f&2147483648)&&(s=~s+1>>>0,f=~f>>>0,s==0&&(f=f+1>>>0)),s=4294967296*f+(s>>>0),t=t?-s:s):(s.j=!0,Fe(),t=void 0),G(i,o,t),!0}function on(t,i,o){return t.h!==0?!1:(G(i,o,Wt(t.g)),!0)}function Be(t,i,o){if(t.h!==2)return!1;var s=Wt(t.g);t=t.g;var f=t.g;t.g+=s,O(t),t=t.h;var p;if(Ht)(p=Me)||(p=Me=new TextDecoder("utf-8",{fatal:!1})),p=p.decode(t.subarray(f,f+s));else{s=f+s;for(var h=[],y=null,m,w,e;f<s;)m=t[f++],128>m?h.push(m):224>m?f>=s?h.push(65533):(w=t[f++],194>m||(w&192)!=128?(f--,h.push(65533)):h.push((m&31)<<6|w&63)):240>m?f>=s-1?h.push(65533):(w=t[f++],(w&192)!=128||m===224&&160>w||m===237&&160<=w||((p=t[f++])&192)!=128?(f--,h.push(65533)):h.push((m&15)<<12|(w&63)<<6|p&63)):244>=m?f>=s-2?h.push(65533):(w=t[f++],(w&192)!=128||(m<<28)+(w-144)>>30!=0||((p=t[f++])&192)!=128||((e=t[f++])&192)!=128?(f--,h.push(65533)):(m=(m&7)<<18|(w&63)<<12|(p&63)<<6|e&63,m-=65536,h.push((m>>10&1023)+55296,(m&1023)+56320))):h.push(65533),8192<=h.length&&(y=le(y,h),h.length=0);p=le(y,h)}return G(i,o,p),!0}function un(t,i,o,s,f){if(t.h!==2)return!1;var p=new s,h=t.g.i,y=Wt(t.g),m=t.g.g+y;if(t.g.i=m,f(p,t),f=m-t.g.g,f!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+(y+" bytes, instead read "+(y-f)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return t.g.g=m,t.g.i=h,g(i,o,p,s,void 0),!0}function ne(t){L.call(this,t)}var sn;_t(ne,L);function We(t,i){var o=W(t,1);if(o!=null&&o!=null){Gt(i.g,8);var s=i.g;if(0<=o)Gt(s,o);else{for(var f=0;9>f;f++)st(s,o&127|128),o>>=7;st(s,1)}}lt(i,t,2),s=W(t,3),s!=null&&vt(i,3,St(s)),s=W(t,4),s!=null&&vt(i,4,St(s)),ee(t,i)}function an(t,i){return at(t,i,sn||(sn={1:on,2:ut,3:Be,4:Be}))}function Vt(t){L.call(this,t,-1,Ge)}var ft;_t(Vt,L),Vt.prototype.addClassification=function(t,i){return g(this,1,t,ne,i),this};function me(t,i){return at(t,i,ft||(ft={1:[un,ne,an]}))}var Ge=[1];function re(t){L.call(this,t)}var ze;_t(re,L);function ge(t,i){lt(i,t,1),lt(i,t,2),lt(i,t,3),lt(i,t,4),lt(i,t,5),ee(t,i)}function En(t,i){return at(t,i,ze||(ze={1:ut,2:ut,3:ut,4:ut,5:ut}))}function ie(t){L.call(this,t,-1,Nt)}var Ye;_t(ie,L);function ln(t,i){return at(t,i,Ye||(Ye={1:[un,re,En]}))}var Nt=[1];function oe(t){L.call(this,t)}var Xe;_t(oe,L);function fn(t,i){lt(i,t,1),lt(i,t,2),lt(i,t,3),lt(i,t,4),lt(i,t,5);var o=W(t,6);if(o!=null&&o!=null){Gt(i.g,48);var s=i.g,f=o;o=0>f,f=Math.abs(f);var p=f>>>0;for(f=Math.floor((f-p)/4294967296),f>>>=0,o&&(f=~f>>>0,p=(~p>>>0)+1,4294967295<p&&(p=0,f++,4294967295<f&&(f=0))),mt=p,yt=f,o=mt,p=yt;0<p||127<o;)st(s,o&127|128),o=(o>>>7|p<<25)>>>0,p>>>=7;st(s,o)}ee(t,i)}function cn(t,i){return at(t,i,Xe||(Xe={1:ut,2:ut,3:ut,4:ut,5:ut,6:Xt}))}function hn(t,i,o){if(o=t.createShader(o===0?t.VERTEX_SHADER:t.FRAGMENT_SHADER),t.shaderSource(o,i),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+t.getShaderInfoLog(o));return o}function pn(t){return ot(t,ne,1).map(function(i){return{index:J(i,1),X:Q(i,2),label:W(i,3)!=null?te(i,3):void 0,displayName:W(i,4)!=null?te(i,4):void 0}})}function dn(t){return{x:Q(t,1),y:Q(t,2),z:Q(t,3),visibility:W(t,4)!=null?Q(t,4):void 0}}function ye(t){return ot(Z(t,ie,ln),re,1).map(dn)}function jt(t,i){this.h=t,this.g=i,this.l=0}function ve(t,i,o){return D(t,i),typeof t.g.canvas.transferToImageBitmap=="function"?Promise.resolve(t.g.canvas.transferToImageBitmap()):o?Promise.resolve(t.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(t.g.canvas):(t.i===void 0&&(t.i=document.createElement("canvas")),new Promise(function(s){t.i.height=t.g.canvas.height,t.i.width=t.g.canvas.width,t.i.getContext("2d",{}).drawImage(t.g.canvas,0,0,t.g.canvas.width,t.g.canvas.height),s(t.i)}))}function D(t,i){var o=t.g;if(t.m===void 0){var s=hn(o,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),f=hn(o,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),p=o.createProgram();if(o.attachShader(p,s),o.attachShader(p,f),o.linkProgram(p),!o.getProgramParameter(p,o.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+o.getProgramInfoLog(p));s=t.m=p,o.useProgram(s),f=o.getUniformLocation(s,"sampler0"),t.j={I:o.getAttribLocation(s,"aVertex"),H:o.getAttribLocation(s,"aTex"),da:f},t.s=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,t.s),o.enableVertexAttribArray(t.j.I),o.vertexAttribPointer(t.j.I,2,o.FLOAT,!1,0,0),o.bufferData(o.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,null),t.o=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,t.o),o.enableVertexAttribArray(t.j.H),o.vertexAttribPointer(t.j.H,2,o.FLOAT,!1,0,0),o.bufferData(o.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,null),o.uniform1i(f,0)}s=t.j,o.useProgram(t.m),o.canvas.width=i.width,o.canvas.height=i.height,o.viewport(0,0,i.width,i.height),o.activeTexture(o.TEXTURE0),t.h.bindTexture2d(i.glName),o.enableVertexAttribArray(s.I),o.bindBuffer(o.ARRAY_BUFFER,t.s),o.vertexAttribPointer(s.I,2,o.FLOAT,!1,0,0),o.enableVertexAttribArray(s.H),o.bindBuffer(o.ARRAY_BUFFER,t.o),o.vertexAttribPointer(s.H,2,o.FLOAT,!1,0,0),o.bindFramebuffer(o.DRAW_FRAMEBUFFER?o.DRAW_FRAMEBUFFER:o.FRAMEBUFFER,null),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.colorMask(!0,!0,!0,!0),o.drawArrays(o.TRIANGLE_FAN,0,4),o.disableVertexAttribArray(s.I),o.disableVertexAttribArray(s.H),o.bindBuffer(o.ARRAY_BUFFER,null),t.h.bindTexture2d(0)}function be(t){this.g=t}var we=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Ve(t,i){return i+t}function _e(t,i){window[t]=i}function Ee(t){var i=document.createElement("script");return i.setAttribute("src",t),i.setAttribute("crossorigin","anonymous"),new Promise(function(o){i.addEventListener("load",function(){o()},!1),i.addEventListener("error",function(){o()},!1),document.body.appendChild(i)})}function Te(){return $(function(t){switch(t.g){case 1:return t.m=2,H(t,WebAssembly.instantiate(we),4);case 4:t.g=3,t.m=0;break;case 2:return t.m=0,t.j=null,t.return(!1);case 3:return t.return(!0)}})}function gt(t){if(this.g=t,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=Promise.resolve(),this.P="",this.B={},this.locateFile=t&&t.locateFile||Ve,typeof window=="object")var i=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location!="undefined")i=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=i,t.options){i=N(Object.keys(t.options));for(var o=i.next();!o.done;o=i.next()){o=o.value;var s=t.options[o].default;s!==void 0&&(this.j[o]=typeof s=="function"?s():s)}}}E=gt.prototype,E.close=function(){return this.i&&this.i.delete(),Promise.resolve()};function $e(t){var i,o,s,f,p,h,y,m,w,e,n;return $(function(r){switch(r.g){case 1:return t.R?(i=t.g.files===void 0?[]:typeof t.g.files=="function"?t.g.files(t.j):t.g.files,H(r,Te(),2)):r.return();case 2:if(o=r.h,typeof window=="object")return _e("createMediapipeSolutionsWasm",{locateFile:t.locateFile}),_e("createMediapipeSolutionsPackedAssets",{locateFile:t.locateFile}),h=i.filter(function(u){return u.data!==void 0}),y=i.filter(function(u){return u.data===void 0}),m=Promise.all(h.map(function(u){var a=$t(t,u.url);if(u.path!==void 0){var c=u.path;a=a.then(function(v){return t.overrideFile(c,v),Promise.resolve(v)})}return a})),w=Promise.all(y.map(function(u){return u.simd===void 0||u.simd&&o||!u.simd&&!o?Ee(t.locateFile(u.url,t.S)):Promise.resolve()})).then(function(){var u,a,c;return $(function(v){if(v.g==1)return u=window.createMediapipeSolutionsWasm,a=window.createMediapipeSolutionsPackedAssets,c=t,H(v,u(a),2);c.h=v.h,v.g=0})}),e=function(){return $(function(u){return t.g.graph&&t.g.graph.url?u=H(u,$t(t,t.g.graph.url),0):(u.g=0,u=void 0),u})}(),H(r,Promise.all([w,m,e]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return s=i.filter(function(u){return u.simd===void 0||u.simd&&o||!u.simd&&!o}).map(function(u){return t.locateFile(u.url,t.S)}),importScripts.apply(null,Le(s)),f=t,H(r,createMediapipeSolutionsWasm(Module),6);case 6:f.h=r.h,t.l=new OffscreenCanvas(1,1),t.h.canvas=t.l,p=t.h.GL.createContext(t.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext!="undefined"?2:1}),t.h.GL.makeContextCurrent(p),r.g=4;break;case 7:if(t.l=document.createElement("canvas"),n=t.l.getContext("webgl2",{}),!n&&(n=t.l.getContext("webgl",{}),!n))return alert("Failed to create WebGL canvas context when passing video frame."),r.return();t.D=n,t.h.canvas=t.l,t.h.createContext(t.l,!0,!0,{});case 4:t.i=new t.h.SolutionWasm,t.R=!1,r.g=0}})}function Ke(t){var i,o,s,f,p,h,y,m;return $(function(w){if(w.g==1){if(t.g.graph&&t.g.graph.url&&t.P===t.g.graph.url)return w.return();if(t.o=!0,!t.g.graph||!t.g.graph.url){w.g=2;return}return t.P=t.g.graph.url,H(w,$t(t,t.g.graph.url),3)}for(w.g!=2&&(i=w.h,t.i.loadGraph(i)),o=N(Object.keys(t.B)),s=o.next();!s.done;s=o.next())f=s.value,t.i.overrideFile(f,t.B[f]);if(t.B={},t.g.listeners)for(p=N(t.g.listeners),h=p.next();!h.done;h=p.next())y=h.value,Tn(t,y);m=t.j,t.j={},t.setOptions(m),w.g=0})}E.reset=function(){var t=this;return $(function(i){t.i&&(t.i.reset(),t.m={},t.s={}),i.g=0})},E.setOptions=function(t,i){var o=this;if(i=i||this.g.options){for(var s=[],f=[],p={},h=N(Object.keys(t)),y=h.next();!y.done;p={K:p.K,L:p.L},y=h.next()){var m=y.value;m in this.j&&this.j[m]===t[m]||(this.j[m]=t[m],y=i[m],y!==void 0&&(y.onChange&&(p.K=y.onChange,p.L=t[m],s.push(function(w){return function(){var e;return $(function(n){if(n.g==1)return H(n,w.K(w.L),2);e=n.h,e===!0&&(o.o=!0),n.g=0})}}(p))),y.graphOptionXref&&(m={valueNumber:y.type===1?t[m]:0,valueBoolean:y.type===0?t[m]:!1,valueString:y.type===2?t[m]:""},y=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),y.graphOptionXref),m),f.push(y))))}(s.length!==0||f.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat(f),this.v=(this.v===void 0?[]:this.v).concat(s))}};function mn(t){var i,o,s,f,p,h,y;return $(function(m){switch(m.g){case 1:if(!t.o)return m.return();if(!t.v){m.g=2;break}i=N(t.v),o=i.next();case 3:if(o.done){m.g=5;break}return s=o.value,H(m,s(),4);case 4:o=i.next(),m.g=3;break;case 5:t.v=void 0;case 2:if(t.A){for(f=new t.h.GraphOptionChangeRequestList,p=N(t.A),h=p.next();!h.done;h=p.next())y=h.value,f.push_back(y);t.i.changeOptions(f),f.delete(),t.A=void 0}t.o=!1,m.g=0}})}E.initialize=function(){var t=this;return $(function(i){return i.g==1?H(i,$e(t),2):i.g!=3?H(i,Ke(t),3):H(i,mn(t),0)})};function $t(t,i){var o,s;return $(function(f){return i in t.F?f.return(t.F[i]):(o=t.locateFile(i,""),s=fetch(o).then(function(p){return p.arrayBuffer()}),t.F[i]=s,f.return(s))})}E.overrideFile=function(t,i){this.i?this.i.overrideFile(t,i):this.B[t]=i},E.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},E.send=function(t,i){var o=this,s,f,p,h,y,m,w,e,n;return $(function(r){switch(r.g){case 1:return o.g.inputs?(s=1e3*(i==null?performance.now():i),H(r,o.C,2)):r.return();case 2:return H(r,o.initialize(),3);case 3:for(f=new o.h.PacketDataList,p=N(Object.keys(t)),h=p.next();!h.done;h=p.next())if(y=h.value,m=o.g.inputs[y]){t:{var u=t[y];switch(m.type){case"video":var a=o.m[m.stream];if(a||(a=new jt(o.h,o.D),o.m[m.stream]=a),a.l===0&&(a.l=a.h.createTexture()),typeof HTMLVideoElement!="undefined"&&u instanceof HTMLVideoElement)var c=u.videoWidth,v=u.videoHeight;else typeof HTMLImageElement!="undefined"&&u instanceof HTMLImageElement?(c=u.naturalWidth,v=u.naturalHeight):(c=u.width,v=u.height);v={glName:a.l,width:c,height:v},c=a.g,c.canvas.width=v.width,c.canvas.height=v.height,c.activeTexture(c.TEXTURE0),a.h.bindTexture2d(a.l),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,u),a.h.bindTexture2d(0),a=v;break t;case"detections":for(a=o.m[m.stream],a||(a=new be(o.h),o.m[m.stream]=a),a.data||(a.data=new a.g.DetectionListData),a.data.reset(u.length),v=0;v<u.length;++v){c=u[v];var R=a.data,P=R.setBoundingBox,x=v,U=c.T,S=new oe;if(G(S,1,U.Y),G(S,2,U.Z),G(S,3,U.height),G(S,4,U.width),G(S,5,U.rotation),G(S,6,U.W),U=de(S,fn),P.call(R,x,U),c.O)for(R=0;R<c.O.length;++R){S=c.O[R];var C=!!S.visibility;P=a.data,x=P.addNormalizedLandmark,U=v,S=Object.assign(Object.assign({},S),{visibility:C?S.visibility:0}),C=new re,G(C,1,S.x),G(C,2,S.y),G(C,3,S.z),S.visibility&&G(C,4,S.visibility),S=de(C,ge),x.call(P,U,S)}if(c.M)for(R=0;R<c.M.length;++R)P=a.data,x=P.addClassification,U=v,S=c.M[R],C=new ne,G(C,2,S.X),S.index&&G(C,1,S.index),S.label&&G(C,3,S.label),S.displayName&&G(C,4,S.displayName),S=de(C,We),x.call(P,U,S)}a=a.data;break t;default:a={}}}switch(w=a,e=m.stream,m.type){case"video":f.pushTexture2d(Object.assign(Object.assign({},w),{stream:e,timestamp:s}));break;case"detections":n=w,n.stream=e,n.timestamp=s,f.pushDetectionList(n);break;default:throw Error("Unknown input config type: '"+m.type+"'")}}return o.i.send(f),H(r,o.C,4);case 4:f.delete(),r.g=0}})};function gn(t,i,o){var s,f,p,h,y,m,w,e,n,r,u,a,c,v;return $(function(R){switch(R.g){case 1:if(!o)return R.return(i);for(s={},f=0,p=N(Object.keys(o)),h=p.next();!h.done;h=p.next())y=h.value,m=o[y],typeof m!="string"&&m.type==="texture"&&i[m.stream]!==void 0&&++f;1<f&&(t.G=!1),w=N(Object.keys(o)),h=w.next();case 2:if(h.done){R.g=4;break}if(e=h.value,n=o[e],typeof n=="string")return c=s,v=e,H(R,yn(t,e,i[n]),14);if(r=i[n.stream],n.type==="detection_list"){if(r){for(var P=r.getRectList(),x=r.getLandmarksList(),U=r.getClassificationsList(),S=[],C=0;C<P.size();++C){var Rt=Z(P.get(C),oe,cn);Rt={T:{Y:Q(Rt,1),Z:Q(Rt,2),height:Q(Rt,3),width:Q(Rt,4),rotation:Q(Rt,5,0),W:J(Rt,6)},O:ye(x.get(C)),M:pn(Z(U.get(C),Vt,me))},S.push(Rt)}P=S}else P=[];s[e]=P,R.g=7;break}if(n.type==="proto_list"){if(r){for(P=Array(r.size()),x=0;x<r.size();x++)P[x]=r.get(x);r.delete()}else P=[];s[e]=P,R.g=7;break}if(r===void 0){R.g=3;break}if(n.type==="float_list"){s[e]=r,R.g=7;break}if(n.type==="proto"){s[e]=r,R.g=7;break}if(n.type!=="texture")throw Error("Unknown output config type: '"+n.type+"'");return u=t.s[e],u||(u=new jt(t.h,t.D),t.s[e]=u),H(R,ve(u,r,t.G),13);case 13:a=R.h,s[e]=a;case 7:n.transform&&s[e]&&(s[e]=n.transform(s[e])),R.g=3;break;case 14:c[v]=R.h;case 3:h=w.next(),R.g=2;break;case 4:return R.return(s)}})}function yn(t,i,o){var s;return $(function(f){return typeof o=="number"||o instanceof Uint8Array||o instanceof t.h.Uint8BlobList?f.return(o):o instanceof t.h.Texture2dDataOut?(s=t.s[i],s||(s=new jt(t.h,t.D),t.s[i]=s),f.return(ve(s,o,t.G))):f.return(void 0)})}function Tn(t,i){for(var o=i.name||"$",s=[].concat(Le(i.wants)),f=new t.h.StringList,p=N(i.wants),h=p.next();!h.done;h=p.next())f.push_back(h.value);p=t.h.PacketListener.implement({onResults:function(y){for(var m={},w=0;w<i.wants.length;++w)m[s[w]]=y.get(w);var e=t.listeners[o];e&&(t.C=gn(t,m,i.outs).then(function(n){n=e(n);for(var r=0;r<i.wants.length;++r){var u=m[s[r]];typeof u=="object"&&u.hasOwnProperty&&u.hasOwnProperty("delete")&&u.delete()}n&&(t.C=n)}))}}),t.i.attachMultiListener(f,p),f.delete()}E.onResults=function(t,i){this.listeners[i||"$"]=t},K("Solution",gt),K("OptionType",{BOOL:0,NUMBER:1,$:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Ae(t){switch(t===void 0&&(t=0),t){case 1:return"pose_landmark_full.tflite";case 2:return"pose_landmark_heavy.tflite";default:return"pose_landmark_lite.tflite"}}function ue(t){var i=this;t=t||{},this.g=new gt({locateFile:t.locateFile,files:function(o){return[{url:"pose_solution_packed_assets_loader.js"},{simd:!1,url:"pose_solution_wasm_bin.js"},{simd:!0,url:"pose_solution_simd_wasm_bin.js"},{data:!0,url:Ae(o.modelComplexity)}]},graph:{url:"pose_web.binarypb"},listeners:[{wants:["pose_landmarks","world_landmarks","segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:ye},poseWorldLandmarks:{type:"proto",stream:"world_landmarks",transform:ye},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(o){var s,f,p;return $(function(h){return h.g==1?(s=Ae(o),f="third_party/mediapipe/modules/pose_landmark/"+s,H(h,$t(i.g,s),2)):(p=h.h,i.g.overrideFile(f,p),h.return(!0))})}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}}}})}E=ue.prototype,E.reset=function(){this.g.reset()},E.close=function(){return this.g.close(),Promise.resolve()},E.onResults=function(t){this.g.onResults(t)},E.initialize=function(){var t=this;return $(function(i){return H(i,t.g.initialize(),0)})},E.send=function(t,i){var o=this;return $(function(s){return H(s,o.g.send(t,i),0)})},E.setOptions=function(t){this.g.setOptions(t)},K("Pose",ue),K("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),K("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),K("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),K("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),K("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),K("VERSION","0.5.1635988162")}).call(Ln);let In,kn;function Tr(E){var _,A;kn&&kn({normalizedLandmarks:((_=E==null?void 0:E.poseLandmarks)==null?void 0:_.map(k=>({point:[k.x,k.y,-k.z],visibility:k.visibility||0})))||[],worldLandmarks:((A=E==null?void 0:E.poseWorldLandmarks)==null?void 0:A.map(k=>({point:[k.x,-k.y,-k.z],visibility:k.visibility||0})))||[]})}function Ar(){return In=In||new Promise(async function(E){const _=new Er.Pose({locateFile(A,k){return"./node_modules/@mediapipe/pose/"+A}});_.setOptions({selfieMode:!1,modelComplexity:2,smoothLandmarks:!1}),await _.initialize(),_.onResults(Tr),E(_)})}const Un=33;function Ur(E){return new Promise(async function(_){const A=await Ar();A.reset(),kn=_,await A.send({image:E})})}const qn={async read(E){return(await fetch(E,{method:"GET"})).arrayBuffer()},async write(E,_){const A=new FormData;A.append("file",_),await fetch("file/"+E,{method:"POST",body:A})}};var Cn;(function(E){E[E.UNMARKED=0]="UNMARKED",E[E.MALE=1]="MALE",E[E.FEMALE=2]="FEMALE"})(Cn||(Cn={}));function qr(E){let _=!1,A=!1;return(E.includes("male")||E.includes("man")||E.includes("men")||E.includes("boy")||E.includes("boys"))&&(_=!0),(E.includes("female")||E.includes("woman")||E.includes("women")||E.includes("girl")||E.includes("girls"))&&(A=!0),_&&!A?1:!_&&A?2:0}class Rr{constructor(){ht(this,"id","");ht(this,"width",0);ht(this,"height",0);ht(this,"full","");ht(this,"regular","");ht(this,"authorName","");ht(this,"authorUsername","");ht(this,"gender",0);ht(this,"normalizedLandmarks",[]);ht(this,"worldLandmarks",[]);ht(this,"tags")}}var Lr=`SELECT COUNT("id")\r
FROM photo;`,kr=`CREATE TABLE IF NOT EXISTS photo\r
(\r
    "id"             TEXT PRIMARY KEY,\r
    "width"          INTEGER,\r
    "height"         INTEGER,\r
    "authorName"     TEXT,\r
    "authorUsername" TEXT,\r
    "regular"        TEXT,\r
    "full"           TEXT,\r
    "gender"         INTEGER\r
);\r
\r
CREATE TABLE IF NOT EXISTS photo_landmark\r
(\r
    "photoId"    TEXT,\r
    "index"      INTEGER,\r
    "type"       INTEGER,\r
    "x"          REAL,\r
    "y"          REAL,\r
    "z"          REAL,\r
    "visibility" REAL\r
);`,xr=`INSERT INTO photo_landmark ("photoId", "index", "type", "x", "y", "z", "visibility")\r
VALUES (?, ?, ?, ?, ?, ?, ?);`,Or=`INSERT INTO photo ("id", "width", "height", "authorName", "authorUsername", "regular", "full", "gender")\r
VALUES (?, ?, ?, ?, ?, ?, ?, ?)`,Sr=`SELECT *\r
FROM photo\r
WHERE "id" = $id;`,xn=`SELECT "x", "y", "z", "visibility"\r
FROM photo_landmark\r
WHERE "photoId" = $photoId\r
  AND "type" = $type\r
ORDER BY "index";`,Pr=`SELECT *\r
FROM photo\r
LIMIT $limit OFFSET $offset;`,Fr=`SELECT *\r
FROM photo;`,Mr=`UPDATE photo\r
SET "gender" = $gender\r
WHERE "id" = $id;`;const Dn=0,Hn=1;class Cr{constructor(){ht(this,"database")}async init(_=!0){const A=await _r({locateFile:I=>`./assets/sql.js/${I}`});let k;_&&(k=await qn.read("data.db")),this.database=new A.Database(k&&new Uint8Array(k))}async saveToFile(_="data.db"){if(!this.database)throw new Error("Database not initialized");const A=this.database.export(),k=new Blob([A.buffer]);await qn.write(_,k)}createTables(){if(!this.database)throw new Error("Database not initialized");this.database.run(kr)}countRecords(){if(!this.database)throw new Error("Database not initialized");return this.database.exec(Lr)[0].values[0][0]}addPhoto(_){if(!this.database)throw new Error("Database not initialized");const A=this.database,k=A.prepare(Or),I=A.prepare(xr);try{k.run([_.id,_.width,_.height,_.authorName,_.authorUsername,_.regular,_.full,_.gender]);for(let j=0,B=_.normalizedLandmarks.length;j<B;++j){const N=_.normalizedLandmarks[j];I.run([_.id,j,Dn,N.point[0],N.point[1],N.point[2],N.visibility])}for(let j=0,B=_.worldLandmarks.length;j<B;++j){const N=_.worldLandmarks[j];I.run([_.id,j,Hn,N.point[0],N.point[1],N.point[2],N.visibility])}}finally{k.free(),I.free()}}queryPhotoById(_){if(!this.database)throw new Error("Database not initialized");const A=this.database,k=A.prepare(Sr),I=A.prepare(xn);try{const j=k.getAsObject({$id:_});return(j==null?void 0:j.id)==null?null:this.createPhoto(j,I)}finally{k.free(),I.free()}}queryAllPhotos(){if(!this.database)throw new Error("Database not initialized");const _=this.database,A=_.prepare(Fr),k=_.prepare(xn);try{A.bind({});const I=[];for(;A.step();){const j=A.getAsObject();I.push(this.createPhoto(j,k))}return I}finally{A.free(),k.free()}}queryPhotosPage(_,A){if(!this.database)throw new Error("Database not initialized");const k=this.database,I=k.prepare(Pr),j=k.prepare(xn);try{I.bind({$limit:_,$offset:(A-1)*_});const B=[];for(;I.step();){const N=I.getAsObject();B.push(this.createPhoto(N,j))}return B}finally{I.free(),j.free()}}createPhoto(_,A){const k=new Rr;if(k.id=_.id,k.width=_.width,k.height=_.height,k.authorName=_.authorName,k.authorUsername=_.authorUsername,k.regular=_.regular,k.full=_.full,k.gender=_.gender,A){const I=[];for(A.bind({$photoId:_.id,$type:Dn});A.step();){const B=A.getAsObject();I.push(Rn({},B))}I.length===Un&&(k.normalizedLandmarks=I.map(B=>({point:[B.x,B.y,B.z],visibility:B.visibility})));const j=[];for(A.bind({$photoId:_.id,$type:Hn});A.step();){const B=A.getAsObject();j.push(Rn({},B))}j.length===Un&&(k.worldLandmarks=j.map(B=>({point:[B.x,B.y,B.z],visibility:B.visibility})))}return k}updatePhotoGender(_,A){if(!this.database)throw new Error("Database not initialized");this.database.exec(Mr,{$id:_,$gender:A})}}export{Un as N,Cr as P,Rr as a,Ur as d,qr as g,Ir as l};
//# sourceMappingURL=PhotoDatabase.116a3c6d.js.map
